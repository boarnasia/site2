<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pytest-BDD: the BDD framework for pytest &#8212; pytest-bdd 8.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css%3Fv=d1102ebc.css" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css%3Fv=686e5160.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css%3Fv=27fed22d.css" />
    <script src="_static/documentation_options.js%3Fv=87b6a113"></script>
    <script src="_static/doctools.js%3Fv=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js%3Fv=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

  <link rel="stylesheet" href="_static/custom.css" type="text/css" />





  <script async type="text/javascript" src="../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="pytest-bdd" /><meta name="readthedocs-version-slug" content="stable" /><meta name="readthedocs-resolver-filename" content="/index.html" /><meta name="readthedocs-http-status" content="200" /></head><body>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">


          <div class="body" role="main">

  <section id="pytest-bdd-the-bdd-framework-for-pytest">
<h1>Pytest-BDD: the BDD framework for pytest<a class="headerlink" href="index.html#pytest-bdd-the-bdd-framework-for-pytest" title="Link to this heading">¶</a></h1>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/pytest-bdd"><img alt="https://img.shields.io/pypi/v/pytest-bdd.svg" src="https://img.shields.io/pypi/v/pytest-bdd.svg" />
</a>
<a class="reference external image-reference" href="https://codecov.io/gh/pytest-dev/pytest-bdd"><img alt="https://codecov.io/gh/pytest-dev/pytest-bdd/branch/master/graph/badge.svg" src="https://codecov.io/gh/pytest-dev/pytest-bdd/branch/master/graph/badge.svg" />
</a>
<a class="reference external image-reference" href="https://github.com/pytest-dev/pytest-bdd/actions/workflows/main.yml"><img alt="https://github.com/pytest-dev/pytest-bdd/actions/workflows/main.yml/badge.svg" src="https://github.com/pytest-dev/pytest-bdd/actions/workflows/main.yml/badge.svg" />
</a>
<a class="reference external image-reference" href="../../../readthedocs.org/projects/pytest-bdd/index.html"><img alt="Documentation Status" src="../../../readthedocs.org/projects/pytest-bdd/badge/index.html%3Fversion=stable" />
</a>
<p>pytest-bdd implements a subset of the Gherkin language to enable automating project
requirements testing and to facilitate behavioral driven development.</p>
<p>Unlike many other BDD tools, it does not require a separate runner and benefits from
the power and flexibility of pytest. It enables unifying unit and functional
tests, reduces the burden of continuous integration server configuration and allows the reuse of
test setups.</p>
<p>Pytest fixtures written for unit tests can be reused for setup and actions
mentioned in feature steps with dependency injection. This allows a true BDD
just-enough specification of the requirements without maintaining any context object
containing the side effects of Gherkin imperative declarations.</p>
<section id="install-pytest-bdd">
<h2>Install pytest-bdd<a class="headerlink" href="index.html#install-pytest-bdd" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pytest</span><span class="o">-</span><span class="n">bdd</span>
</pre></div>
</div>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="index.html#example" title="Link to this heading">¶</a></h2>
<p>An example test for a blog hosting software could look like this.
Note that <a class="reference external" href="https://github.com/pytest-dev/pytest-splinter">pytest-splinter</a> is used to get the browser fixture.</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="c"># content of publish_article.feature</span>

<span class="k">Feature:</span><span class="nf"> Blog</span>
<span class="nf">    A site where you can publish your articles.</span>

<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Publishing the article</span>
<span class="k">        Given </span><span class="nf">I&#39;m an author user</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">I have an article</span>

<span class="nf">        </span><span class="k">When </span><span class="nf">I go to the article page</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">I press the publish button</span>

<span class="nf">        </span><span class="k">Then </span><span class="nf">I should not see the error message</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">the article should be published</span>
</pre></div>
</div>
<p>Note that only one feature is allowed per feature file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of test_publish_article.py</span>

<span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenario</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span>

<span class="nd">@scenario</span><span class="p">(</span><span class="s1">&#39;publish_article.feature&#39;</span><span class="p">,</span> <span class="s1">&#39;Publishing the article&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_publish</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I&#39;m an author user&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">author_user</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">author</span><span class="p">):</span>
    <span class="n">auth</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">author</span><span class="o">.</span><span class="n">user</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have an article&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">article</span><span class="p">(</span><span class="n">author</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">create_test_article</span><span class="p">(</span><span class="n">author</span><span class="o">=</span><span class="n">author</span><span class="p">)</span>


<span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;I go to the article page&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">go_to_article</span><span class="p">(</span><span class="n">article</span><span class="p">,</span> <span class="n">browser</span><span class="p">):</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="n">urljoin</span><span class="p">(</span><span class="n">browser</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="s1">&#39;/manage/articles/</span><span class="si">{0}</span><span class="s1">/&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">article</span><span class="o">.</span><span class="n">id</span><span class="p">)))</span>


<span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;I press the publish button&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">publish_article</span><span class="p">(</span><span class="n">browser</span><span class="p">):</span>
    <span class="n">browser</span><span class="o">.</span><span class="n">find_by_css</span><span class="p">(</span><span class="s1">&#39;button[name=publish]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>


<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;I should not see the error message&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">no_error_message</span><span class="p">(</span><span class="n">browser</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">ElementDoesNotExist</span><span class="p">):</span>
        <span class="n">browser</span><span class="o">.</span><span class="n">find_by_css</span><span class="p">(</span><span class="s1">&#39;.message.error&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span>


<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;the article should be published&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">article_is_published</span><span class="p">(</span><span class="n">article</span><span class="p">):</span>
    <span class="n">article</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>  <span class="c1"># Refresh the object in the SQLAlchemy session</span>
    <span class="k">assert</span> <span class="n">article</span><span class="o">.</span><span class="n">is_published</span>
</pre></div>
</div>
</section>
<section id="scenario-decorator">
<h2>Scenario decorator<a class="headerlink" href="index.html#scenario-decorator" title="Link to this heading">¶</a></h2>
<p>Functions decorated with the <cite>scenario</cite> decorator behave like a normal test function,
and they will be executed after all scenario steps.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenario</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span>

<span class="nd">@scenario</span><span class="p">(</span><span class="s1">&#39;publish_article.feature&#39;</span><span class="p">,</span> <span class="s1">&#39;Publishing the article&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_publish</span><span class="p">(</span><span class="n">browser</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">article</span><span class="o">.</span><span class="n">title</span> <span class="ow">in</span> <span class="n">browser</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is however encouraged to try as much as possible to have your logic only inside the Given, When, Then steps.</p>
</div>
</section>
<section id="step-aliases">
<h2>Step aliases<a class="headerlink" href="index.html#step-aliases" title="Link to this heading">¶</a></h2>
<p>Sometimes, one has to declare the same fixtures or steps with
different names for better readability. In order to use the same step
function with multiple step names simply decorate it multiple times:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have an article&quot;</span><span class="p">)</span>
<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;there&#39;s an article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">article</span><span class="p">(</span><span class="n">author</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;article&quot;</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">create_test_article</span><span class="p">(</span><span class="n">author</span><span class="o">=</span><span class="n">author</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the given step aliases are independent and will be executed
when mentioned.</p>
<p>For example if you associate your resource to some owner or not. Admin
user can’t be an author of the article, but articles should have a
default author.</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> Resource owner</span>
<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> I&#39;m the author</span>
<span class="k">        Given </span><span class="nf">I&#39;m an author</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">I have an article</span>


<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> I&#39;m the admin</span>
<span class="k">        Given </span><span class="nf">I&#39;m the admin</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">there&#39;s an article</span>
</pre></div>
</div>
</section>
<section id="using-asterisks-in-place-of-keywords">
<h2>Using Asterisks in Place of Keywords<a class="headerlink" href="index.html#using-asterisks-in-place-of-keywords" title="Link to this heading">¶</a></h2>
<p>To avoid redundancy or unnecessary repetition of keywords
such as “And” or “But” in Gherkin scenarios,
you can use an asterisk (*) as a shorthand.
The asterisk acts as a wildcard, allowing for the same functionality
without repeating the keyword explicitly.
It improves readability by making the steps easier to follow,
especially when the specific keyword does not add value to the scenario’s clarity.</p>
<p>The asterisk will work the same as other step keywords - Given, When, Then - it follows.</p>
<p>For example:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> Resource owner</span>
<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> I&#39;m the author</span>
<span class="k">        Given </span><span class="nf">I&#39;m an author</span>
<span class="nf">        </span><span class="k">* </span><span class="nf">I have an article</span>
<span class="nf">        </span><span class="k">* </span><span class="nf">I have a pen</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">given</span>

<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I&#39;m an author&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have an article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have a pen&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>In the scenario above, the asterisk (*) replaces the And or Given keywords.
This allows for cleaner scenarios while still linking related steps together in the context of the scenario.</p>
<p>This approach is particularly useful when you have a series of steps
that do not require explicitly stating whether they are part of the “Given”, “When”, or “Then” context
but are part of the logical flow of the scenario.</p>
</section>
<section id="step-arguments">
<h2>Step arguments<a class="headerlink" href="index.html#step-arguments" title="Link to this heading">¶</a></h2>
<p>Often it’s possible to reuse steps giving them a parameter(s).
This allows to have single implementation and multiple use, so less code.
Also opens the possibility to use same step twice in single scenario and with different arguments!
And even more, there are several types of step parameter parsers at your disposal
(idea taken from <a class="reference external" href="https://pypi.python.org/pypi/behave">behave</a> implementation):</p>
<dl class="simple">
<dt><strong>string</strong> (the default)</dt><dd><p>This is the default and can be considered as a <cite>null</cite> or <cite>exact</cite> parser. It parses no parameters
and matches the step name by equality of strings.</p>
</dd>
<dt><strong>parse</strong> (based on: <a class="reference external" href="http://pypi.python.org/pypi/parse">pypi_parse</a>)</dt><dd><p>Provides a simple parser that replaces regular expressions for
step parameters with a readable syntax like <code class="docutils literal notranslate"><span class="pre">{param:Type}</span></code>.
The syntax is inspired by the Python builtin <code class="docutils literal notranslate"><span class="pre">string.format()</span></code>
function.
Step parameters must use the named fields syntax of <a class="reference external" href="http://pypi.python.org/pypi/parse">pypi_parse</a>
in step definitions. The named fields are extracted,
optionally type converted and then used as step function arguments.
Supports type conversions by using type converters passed via <cite>extra_types</cite></p>
</dd>
<dt><strong>cfparse</strong> (extends: <a class="reference external" href="http://pypi.python.org/pypi/parse">pypi_parse</a>, based on: <a class="reference external" href="http://pypi.python.org/pypi/parse_type">pypi_parse_type</a>)</dt><dd><p>Provides an extended parser with “Cardinality Field” (CF) support.
Automatically creates missing type converters for related cardinality
as long as a type converter for cardinality=1 is provided.
Supports parse expressions like:
* <code class="docutils literal notranslate"><span class="pre">{values:Type+}</span></code> (cardinality=1..N, many)
* <code class="docutils literal notranslate"><span class="pre">{values:Type*}</span></code> (cardinality=0..N, many0)
* <code class="docutils literal notranslate"><span class="pre">{value:Type?}</span></code>  (cardinality=0..1, optional)
Supports type conversions (as above).</p>
</dd>
<dt><strong>re</strong></dt><dd><p>This uses full regular expressions to parse the clause text. You will
need to use named groups “(?P&lt;name&gt;…)” to define the variables pulled
from the text and passed to your <code class="docutils literal notranslate"><span class="pre">step()</span></code> function.
Type conversion can only be done via <cite>converters</cite> step decorator argument (see example below).</p>
</dd>
</dl>
<p>The default parser is <cite>string</cite>, so just plain one-to-one match to the keyword definition.
Parsers except <cite>string</cite>, as well as their optional arguments are specified like:</p>
<p>for <cite>cfparse</cite> parser</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">parsers</span>

<span class="nd">@given</span><span class="p">(</span>
    <span class="n">parsers</span><span class="o">.</span><span class="n">cfparse</span><span class="p">(</span><span class="s2">&quot;there are {start:Number} cucumbers&quot;</span><span class="p">,</span> <span class="n">extra_types</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Number&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">}),</span>
    <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;cucumbers&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span> <span class="s2">&quot;eat&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</pre></div>
</div>
<p>for <cite>re</cite> parser</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">parsers</span>

<span class="nd">@given</span><span class="p">(</span>
    <span class="n">parsers</span><span class="o">.</span><span class="n">re</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;there are (?P&lt;start&gt;\d+) cucumbers&quot;</span><span class="p">),</span>
    <span class="n">converters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">},</span>
    <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;cucumbers&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span> <span class="s2">&quot;eat&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> Step arguments</span>
<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Arguments for given, when, then</span>
<span class="k">        Given </span><span class="nf">there are </span><span class="s">5</span><span class="nf"> cucumbers</span>

<span class="nf">        </span><span class="k">When </span><span class="nf">I eat </span><span class="s">3</span><span class="nf"> cucumbers</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">I eat </span><span class="s">2</span><span class="nf"> cucumbers</span>

<span class="nf">        </span><span class="k">Then </span><span class="nf">I should have </span><span class="s">0</span><span class="nf"> cucumbers</span>
</pre></div>
</div>
<p>The code will look like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenarios</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span><span class="p">,</span> <span class="n">parsers</span>


<span class="n">scenarios</span><span class="p">(</span><span class="s2">&quot;arguments.feature&quot;</span><span class="p">)</span>


<span class="nd">@given</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;there are </span><span class="si">{start:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">),</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;cucumbers&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span> <span class="s2">&quot;eat&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>


<span class="nd">@when</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I eat </span><span class="si">{eat:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">eat_cucumbers</span><span class="p">(</span><span class="n">cucumbers</span><span class="p">,</span> <span class="n">eat</span><span class="p">):</span>
    <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;eat&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">eat</span>


<span class="nd">@then</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I should have </span><span class="si">{left:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">should_have_left_cucumbers</span><span class="p">(</span><span class="n">cucumbers</span><span class="p">,</span> <span class="n">left</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;eat&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">left</span>
</pre></div>
</div>
<p>Example code also shows possibility to pass argument converters which may be useful if you need to postprocess step
arguments after the parser.</p>
<p>You can implement your own step parser. It’s interface is quite simple. The code can look like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">given</span><span class="p">,</span> <span class="n">parsers</span>


<span class="k">class</span> <span class="nc">MyParser</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">StepParser</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Custom parser.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Compile regex.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;%(.+)%&quot;</span><span class="p">,</span> <span class="s2">&quot;(?P&lt;</span><span class="se">\1</span><span class="s2">&gt;.+)&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get step arguments.</span>

<span class="sd">        :return: `dict` of step arguments</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">regex</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">is_matching</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Match given name with the step name.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">regex</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>


<span class="nd">@given</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;there are </span><span class="si">%s</span><span class="s2">tart</span><span class="si">% c</span><span class="s2">ucumbers&quot;</span><span class="p">),</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;cucumbers&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span> <span class="s2">&quot;eat&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="override-fixtures-via-given-steps">
<h2>Override fixtures via given steps<a class="headerlink" href="index.html#override-fixtures-via-given-steps" title="Link to this heading">¶</a></h2>
<p>Dependency injection is not a panacea if you have complex structure of your test setup data. Sometimes there’s a need
such a given step which would imperatively change the fixture only for certain test (scenario), while for other tests
it will stay untouched. To allow this, special parameter <cite>target_fixture</cite> exists in the <cite>given</cite> decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">given</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;foo&quot;</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have injecting given&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">injecting_given</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;injected foo&quot;</span>


<span class="nd">@then</span><span class="p">(</span><span class="s1">&#39;foo should be &quot;injected foo&quot;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">foo_is_foo</span><span class="p">(</span><span class="n">foo</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">foo</span> <span class="o">==</span> <span class="s1">&#39;injected foo&#39;</span>
</pre></div>
</div>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> Target fixture</span>
<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Test given fixture injection</span>
<span class="k">        Given </span><span class="nf">I have injecting given</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">foo should be &quot;</span><span class="s">injected foo</span><span class="nf">&quot;</span>
</pre></div>
</div>
<p>In this example, the existing fixture <cite>foo</cite> will be overridden by given step <cite>I have injecting given</cite> only for the scenario it’s
used in.</p>
<p>Sometimes it is also useful to let <cite>when</cite> and <cite>then</cite> steps provide a fixture as well.
A common use case is when we have to assert the outcome of an HTTP request:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of test_blog.py</span>

<span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenarios</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span>

<span class="kn">from</span> <span class="nn">my_app.models</span> <span class="kn">import</span> <span class="n">Article</span>

<span class="n">scenarios</span><span class="p">(</span><span class="s2">&quot;blog.feature&quot;</span><span class="p">)</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;there is an article&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">there_is_an_article</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">Article</span><span class="p">()</span>


<span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;I request the deletion of the article&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;request_result&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">there_should_be_a_new_article</span><span class="p">(</span><span class="n">article</span><span class="p">,</span> <span class="n">http_client</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">http_client</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;/articles/</span><span class="si">{</span><span class="n">article</span><span class="o">.</span><span class="n">uid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;the request should be successful&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">article_is_published</span><span class="p">(</span><span class="n">request_result</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">request_result</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span>
</pre></div>
</div>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="c"># content of blog.feature</span>

<span class="k">Feature:</span><span class="nf"> Blog</span>
<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Deleting the article</span>
<span class="k">        Given </span><span class="nf">there is an article</span>

<span class="nf">        </span><span class="k">When </span><span class="nf">I request the deletion of the article</span>

<span class="nf">        </span><span class="k">Then </span><span class="nf">the request should be successful</span>
</pre></div>
</div>
</section>
<section id="scenarios-shortcut">
<h2>Scenarios shortcut<a class="headerlink" href="index.html#scenarios-shortcut" title="Link to this heading">¶</a></h2>
<p>If you have a relatively large set of feature files, it’s boring to manually bind scenarios to the tests using the scenario decorator. Of course with the manual approach you get all the power to be able to additionally parametrize the test, give the test function a nice name, document it, etc, but in the majority of the cases you don’t need that.
Instead, you want to bind all the scenarios found in the <code class="docutils literal notranslate"><span class="pre">features</span></code> folder(s) recursively automatically, by using the <code class="docutils literal notranslate"><span class="pre">scenarios</span></code> helper.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenarios</span>

<span class="c1"># assume &#39;features&#39; subfolder is in this file&#39;s directory</span>
<span class="n">scenarios</span><span class="p">(</span><span class="s1">&#39;features&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>That’s all you need to do to bind all scenarios found in the <code class="docutils literal notranslate"><span class="pre">features</span></code> folder!
Note that you can pass multiple paths, and those paths can be either feature files or feature folders.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenarios</span>

<span class="c1"># pass multiple paths/files</span>
<span class="n">scenarios</span><span class="p">(</span><span class="s1">&#39;features&#39;</span><span class="p">,</span> <span class="s1">&#39;other_features/some.feature&#39;</span><span class="p">,</span> <span class="s1">&#39;some_other_features&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>But what if you need to manually bind a certain scenario, leaving others to be automatically bound?
Just write your scenario in a “normal” way, but ensure you do it <strong>before</strong> the call of <code class="docutils literal notranslate"><span class="pre">scenarios</span></code> helper.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenario</span><span class="p">,</span> <span class="n">scenarios</span>

<span class="nd">@scenario</span><span class="p">(</span><span class="s1">&#39;features/some.feature&#39;</span><span class="p">,</span> <span class="s1">&#39;Test something&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_something</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="c1"># assume &#39;features&#39; subfolder is in this file&#39;s directory</span>
<span class="n">scenarios</span><span class="p">(</span><span class="s1">&#39;features&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the example above, the <code class="docutils literal notranslate"><span class="pre">test_something</span></code> scenario binding will be kept manual, other scenarios found in the <code class="docutils literal notranslate"><span class="pre">features</span></code> folder will be bound automatically.</p>
</section>
<section id="scenario-outlines">
<h2>Scenario outlines<a class="headerlink" href="index.html#scenario-outlines" title="Link to this heading">¶</a></h2>
<p>Scenarios can be parametrized to cover multiple cases. These are called <a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#scenario-outline">Scenario Outlines</a> in Gherkin, and the variable templates are written using angular brackets (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;var_name&gt;</span></code>).</p>
<p>Example:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="c"># content of scenario_outlines.feature</span>

<span class="k">Feature:</span><span class="nf"> Scenario outlines</span>
<span class="nf">    </span><span class="k">Scenario Outline:</span><span class="nf"> Outlined given, when, then</span>
<span class="k">        Given </span><span class="nf">there are </span><span class="nv">&lt;start&gt;</span><span class="nf"> cucumbers</span>
<span class="nf">        </span><span class="k">When </span><span class="nf">I eat </span><span class="nv">&lt;eat&gt;</span><span class="nf"> cucumbers</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">I should have </span><span class="nv">&lt;left&gt;</span><span class="nf"> cucumbers</span>

<span class="nf">        </span><span class="k">Examples:</span>
<span class="k">        |</span><span class="nv"> start</span><span class="k"> |</span><span class="nv"> eat</span><span class="k"> |</span><span class="nv"> left</span><span class="k"> |</span>
<span class="k">        |</span><span class="s">  12</span><span class="k">   |</span><span class="s">  5</span><span class="k">  |</span><span class="s">  7</span><span class="k">   |</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenarios</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span><span class="p">,</span> <span class="n">parsers</span>


<span class="n">scenarios</span><span class="p">(</span><span class="s2">&quot;scenario_outlines.feature&quot;</span><span class="p">)</span>


<span class="nd">@given</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;there are </span><span class="si">{start:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">),</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;cucumbers&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span> <span class="s2">&quot;eat&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>


<span class="nd">@when</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I eat </span><span class="si">{eat:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">eat_cucumbers</span><span class="p">(</span><span class="n">cucumbers</span><span class="p">,</span> <span class="n">eat</span><span class="p">):</span>
    <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;eat&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">eat</span>


<span class="nd">@then</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I should have </span><span class="si">{left:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">should_have_left_cucumbers</span><span class="p">(</span><span class="n">cucumbers</span><span class="p">,</span> <span class="n">left</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;eat&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">left</span>
</pre></div>
</div>
<p>Example parameters from example tables can not only be used in steps, but also embedded directly within docstrings and datatables, allowing for dynamic substitution.
This provides added flexibility for scenarios that require complex setups or validations.</p>
<p>Example:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="c"># content of docstring_and_datatable_with_params.feature</span>

<span class="k">Feature:</span><span class="nf"> Docstring and Datatable with example parameters</span>
<span class="nf">    </span><span class="k">Scenario Outline:</span><span class="nf"> Using parameters in docstrings and datatables</span>
<span class="k">        Given </span><span class="nf">the following configuration:</span>
<span class="nf">            </span><span class="k">&quot;&quot;&quot;</span>
<span class="s">            username: </span><span class="nv">&lt;username&gt;</span>
<span class="s">            password: </span><span class="nv">&lt;password&gt;</span>
<span class="s">            </span><span class="k">&quot;&quot;&quot;</span>
<span class="nf">        </span><span class="k">When </span><span class="nf">the user logs in</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">the response should contain:</span>
<span class="k">            |</span><span class="s"> field</span><span class="k">     |</span><span class="s"> value</span><span class="k">      |</span>
<span class="k">            |</span><span class="s"> username</span><span class="k">  |</span><span class="s"> </span><span class="nv">&lt;username&gt;</span><span class="k"> |</span>
<span class="k">            |</span><span class="s"> logged_in</span><span class="k"> |</span><span class="s"> true</span><span class="k">       |</span>

<span class="nf">        </span><span class="k">Examples:</span>
<span class="k">        |</span><span class="nv"> username</span><span class="k">  |</span><span class="nv"> password</span><span class="k">  |</span>
<span class="k">        |</span><span class="s"> user1</span><span class="k">     |</span><span class="s"> pass123</span><span class="k">   |</span>
<span class="k">        |</span><span class="s"> user2</span><span class="k">     |</span><span class="s"> 123secure</span><span class="k"> |</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenarios</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="c1"># Load scenarios from the feature file</span>
<span class="n">scenarios</span><span class="p">(</span><span class="s2">&quot;docstring_and_datatable_with_params.feature&quot;</span><span class="p">)</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;the following configuration:&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">given_user_config</span><span class="p">(</span><span class="n">docstring</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">docstring</span><span class="p">)</span>


<span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;the user logs in&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">user_logs_in</span><span class="p">(</span><span class="n">logged_in</span><span class="p">):</span>
    <span class="n">logged_in</span> <span class="o">=</span> <span class="kc">True</span>


<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;the response should contain:&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">response_should_contain</span><span class="p">(</span><span class="n">datatable</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">datatable</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;user1&quot;</span><span class="p">,</span> <span class="s2">&quot;user2&quot;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="scenario-outlines-with-multiple-example-tables">
<h2>Scenario Outlines with Multiple Example Tables<a class="headerlink" href="index.html#scenario-outlines-with-multiple-example-tables" title="Link to this heading">¶</a></h2>
<p>In <cite>pytest-bdd</cite>, you can use multiple example tables in a scenario outline to test
different sets of input data under various conditions.
You can define separate <cite>Examples</cite> blocks, each with its own table of data,
and optionally tag them to differentiate between positive, negative, or any other conditions.</p>
<p>Example:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="c"># content of scenario_outline.feature</span>

<span class="k">Feature:</span><span class="nf"> Scenario outlines with multiple examples tables</span>
<span class="nf">    </span><span class="k">Scenario Outline:</span><span class="nf"> Outlined with multiple example tables</span>
<span class="k">        Given </span><span class="nf">there are </span><span class="nv">&lt;start&gt;</span><span class="nf"> cucumbers</span>
<span class="nf">        </span><span class="k">When </span><span class="nf">I eat </span><span class="nv">&lt;eat&gt;</span><span class="nf"> cucumbers</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">I should have </span><span class="nv">&lt;left&gt;</span><span class="nf"> cucumbers</span>

<span class="nf">        </span><span class="nt">@positive</span>
<span class="nf">        </span><span class="k">Examples:</span><span class="nf"> Positive results</span>
<span class="k">            |</span><span class="nv"> start</span><span class="k"> |</span><span class="nv"> eat</span><span class="k"> |</span><span class="nv"> left</span><span class="k"> |</span>
<span class="k">            |</span><span class="s">  12</span><span class="k">   |</span><span class="s">  5</span><span class="k">  |</span><span class="s">  7</span><span class="k">   |</span>
<span class="k">            |</span><span class="s">  5</span><span class="k">    |</span><span class="s">  4</span><span class="k">  |</span><span class="s">  1</span><span class="k">   |</span>

<span class="nf">        </span><span class="nt">@negative</span>
<span class="nf">        </span><span class="k">Examples:</span><span class="nf"> Impossible negative results</span>
<span class="k">            |</span><span class="nv"> start</span><span class="k"> |</span><span class="nv"> eat</span><span class="k"> |</span><span class="nv"> left</span><span class="k"> |</span>
<span class="k">            |</span><span class="s">  3</span><span class="k">    |</span><span class="s">  9</span><span class="k">  |</span><span class="s">  -6</span><span class="k">  |</span>
<span class="k">            |</span><span class="s">  1</span><span class="k">    |</span><span class="s">  4</span><span class="k">  |</span><span class="s">  -3</span><span class="k">  |</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenarios</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span><span class="p">,</span> <span class="n">parsers</span>


<span class="n">scenarios</span><span class="p">(</span><span class="s2">&quot;scenario_outline.feature&quot;</span><span class="p">)</span>


<span class="nd">@given</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;there are </span><span class="si">{start:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">),</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;cucumbers&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">,</span> <span class="s2">&quot;eat&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>


<span class="nd">@when</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I eat </span><span class="si">{eat:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">eat_cucumbers</span><span class="p">(</span><span class="n">cucumbers</span><span class="p">,</span> <span class="n">eat</span><span class="p">):</span>
    <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;eat&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">eat</span>


<span class="nd">@then</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;I should have </span><span class="si">{left:d}</span><span class="s2"> cucumbers&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">should_have_left_cucumbers</span><span class="p">(</span><span class="n">cucumbers</span><span class="p">,</span> <span class="n">left</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">cucumbers</span><span class="p">[</span><span class="s2">&quot;eat&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">left</span>
</pre></div>
</div>
<p>When you filter scenarios by a tag, only the examples associated with that tag will be executed.
This allows you to run a specific subset of your test cases based on the tag.
For example, in the following scenario outline, if you filter by the &#64;positive tag,
only the examples under the “Positive results” table will be executed, and the “Negative results” table will be ignored.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>-k<span class="w"> </span><span class="s2">&quot;positive&quot;</span>
</pre></div>
</div>
</section>
<section id="handling-empty-example-cells">
<h2>Handling Empty Example Cells<a class="headerlink" href="index.html#handling-empty-example-cells" title="Link to this heading">¶</a></h2>
<p>By default, empty cells in the example tables are interpreted as empty strings (“”).
However, there may be cases where it is more appropriate to handle them as <code class="docutils literal notranslate"><span class="pre">None</span></code>.
In such scenarios, you can use a converter with the <code class="docutils literal notranslate"><span class="pre">parsers.re</span></code> parser to define a custom behavior for empty values.</p>
<p>For example, the following code demonstrates how to use a custom converter to return <code class="docutils literal notranslate"><span class="pre">None</span></code> when an empty cell is encountered:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="c"># content of empty_example_cells.feature</span>

<span class="k">Feature:</span><span class="nf"> Handling empty example cells</span>
<span class="nf">    </span><span class="k">Scenario Outline:</span><span class="nf"> Using converters for empty cells</span>
<span class="k">        Given </span><span class="nf">I am starting lunch</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">there are </span><span class="nv">&lt;start&gt;</span><span class="nf"> cucumbers</span>

<span class="nf">        </span><span class="k">Examples:</span>
<span class="k">        |</span><span class="nv"> start</span><span class="k"> |</span>
<span class="k">        |       |</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">then</span><span class="p">,</span> <span class="n">parsers</span>


<span class="c1"># Define a converter that returns None for empty strings</span>
<span class="k">def</span> <span class="nf">empty_to_none</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="k">else</span> <span class="n">value</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I am starting lunch&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="nd">@then</span><span class="p">(</span>
    <span class="n">parsers</span><span class="o">.</span><span class="n">re</span><span class="p">(</span><span class="s2">&quot;there are (?P&lt;start&gt;.*?) cucumbers&quot;</span><span class="p">),</span>
    <span class="n">converters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">empty_to_none</span><span class="p">}</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="c1"># Example assertion to demonstrate the conversion</span>
    <span class="k">assert</span> <span class="n">start</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Here, the <cite>start</cite> cell in the example table is empty.
When the <code class="docutils literal notranslate"><span class="pre">parsers.re</span></code> parser is combined with the <code class="docutils literal notranslate"><span class="pre">empty_to_none</span></code> converter,
the empty cell will be converted to <code class="docutils literal notranslate"><span class="pre">None</span></code> and can be handled accordingly in the step definition.</p>
</section>
<section id="rules">
<h2>Rules<a class="headerlink" href="index.html#rules" title="Link to this heading">¶</a></h2>
<p>In Gherkin, <cite>Rules</cite> allow you to group related scenarios or examples under a shared context.
This is useful when you want to define different conditions or behaviours
for multiple examples that follow a similar structure.
You can use either <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> or <code class="docutils literal notranslate"><span class="pre">Example</span></code> to define individual cases, as they are aliases and function identically.</p>
<p>Additionally, <strong>tags</strong> applied to a rule will be automatically applied to all the <strong>examples or scenarios</strong>
under that rule, making it easier to organize and filter tests during execution.</p>
<p>Example:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> Rules and examples</span>

<span class="nf">    @feature_tag</span>
<span class="nf">    Rule: A rule for valid cases</span>

<span class="nf">        @rule_tag</span>
<span class="nf">        Example: Valid case 1</span>
<span class="nf">            Given I have a valid input</span>
<span class="nf">            When I process the input</span>
<span class="nf">            Then the result should be successful</span>

<span class="nf">    Rule: A rule for invalid cases</span>

<span class="nf">        Example: Invalid case</span>
<span class="nf">            Given I have an invalid input</span>
<span class="nf">            When I process the input</span>
<span class="nf">            Then the result should be an error</span>
</pre></div>
</div>
</section>
<section id="datatables">
<h2>Datatables<a class="headerlink" href="index.html#datatables" title="Link to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">datatable</span></code> argument allows you to utilise data tables defined in your Gherkin scenarios
directly within your test functions. This is particularly useful for scenarios that require tabular data as input,
enabling you to manage and manipulate this data conveniently.</p>
<p>When you use the <code class="docutils literal notranslate"><span class="pre">datatable</span></code> argument in a step definition, it will return the table as a list of lists,
where each inner list represents a row from the table.</p>
<p>For example, the Gherkin table:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="nf">| name</span><span class="k">  |</span><span class="s"> email</span><span class="k">            |</span>
<span class="nf">| John</span><span class="k">  |</span><span class="s"> john@example.com</span><span class="k"> |</span>
</pre></div>
</div>
<p>Will be returned by the <code class="docutils literal notranslate"><span class="pre">datatable</span></code> argument as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;John&quot;</span><span class="p">,</span> <span class="s2">&quot;john@example.com&quot;</span><span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the datatable argument, it is essential to ensure that the step to which it is applied
actually has an associated data table. If the step does not have an associated data table,
attempting to use the datatable argument will raise an error.
Make sure that your Gherkin steps correctly reference the data table when defined.</p>
</div>
<p>Full example:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> Manage user accounts</span>

<span class="nf">  </span><span class="k">Scenario:</span><span class="nf"> Creating a new user with roles and permissions</span>
<span class="k">    Given </span><span class="nf">the following user details:</span>
<span class="k">      |</span><span class="s"> name</span><span class="k">  |</span><span class="s"> email</span><span class="k">             |</span><span class="s"> age</span><span class="k"> |</span>
<span class="k">      |</span><span class="s"> John</span><span class="k">  |</span><span class="s"> john@example.com</span><span class="k">  |</span><span class="s"> 30</span><span class="k">  |</span>
<span class="k">      |</span><span class="s"> Alice</span><span class="k"> |</span><span class="s"> alice@example.com</span><span class="k"> |</span><span class="s"> 25</span><span class="k">  |</span>

<span class="nf">    </span><span class="k">When </span><span class="nf">each user is assigned the following roles:</span>
<span class="k">      |</span><span class="s"> Admin</span><span class="k">       |</span><span class="s"> Full access to the system</span><span class="k"> |</span>
<span class="k">      |</span><span class="s"> Contributor</span><span class="k"> |</span><span class="s"> Can add content</span><span class="k">           |</span>

<span class="nf">    </span><span class="k">And </span><span class="nf">the page is saved</span>

<span class="nf">    </span><span class="k">Then </span><span class="nf">the user should have the following permissions:</span>
<span class="k">      |</span><span class="s"> permission</span><span class="k">     |</span><span class="s"> allowed</span><span class="k"> |</span>
<span class="k">      |</span><span class="s"> view dashboard</span><span class="k"> |</span><span class="s"> true</span><span class="k">    |</span>
<span class="k">      |</span><span class="s"> edit content</span><span class="k">   |</span><span class="s"> true</span><span class="k">    |</span>
<span class="k">      |</span><span class="s"> delete content</span><span class="k"> |</span><span class="s"> false</span><span class="k">   |</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;the following user details:&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;users&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">datatable</span><span class="p">):</span>
    <span class="n">users</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">datatable</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">users</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">users</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">users</span>


<span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;each user is assigned the following roles:&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">datatable</span><span class="p">,</span> <span class="n">users</span><span class="p">):</span>
    <span class="n">roles</span> <span class="o">=</span> <span class="n">datatable</span>
    <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">role_row</span> <span class="ow">in</span> <span class="n">datatable</span><span class="p">:</span>
            <span class="n">assign_role</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">role_row</span><span class="p">)</span>


<span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;the page is saved&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">():</span>
    <span class="n">save_page</span><span class="p">()</span>


<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;the user should have the following permissions:&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">datatable</span><span class="p">,</span> <span class="n">users</span><span class="p">):</span>
    <span class="n">expected_permissions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">datatable</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">expected_permissions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">users_have_correct_permissions</span><span class="p">(</span><span class="n">users</span><span class="p">,</span> <span class="n">expected_permissions</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="docstrings">
<h2>Docstrings<a class="headerlink" href="index.html#docstrings" title="Link to this heading">¶</a></h2>
<p>The <cite>docstring</cite> argument allows you to access the Gherkin docstring defined in your steps as a multiline string.
The content of the docstring is passed as a single string, with each line separated by <cite>\n</cite>.
Leading indentation are stripped.</p>
<p>For example, the Gherkin docstring:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">&quot;&quot;&quot;</span>
<span class="s">This is a sample docstring.</span>
<span class="s">It spans multiple lines.</span>
<span class="k">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Will be returned as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;This is a sample docstring.</span><span class="se">\n</span><span class="s2">It spans multiple lines.&quot;</span>
</pre></div>
</div>
<p>Full example:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> Docstring</span>

<span class="nf">  </span><span class="k">Scenario:</span><span class="nf"> Step with docstrings</span>
<span class="k">    Given </span><span class="nf">some steps will have docstrings</span>

<span class="nf">    </span><span class="k">Then </span><span class="nf">a step has a docstring</span>
<span class="nf">    </span><span class="k">&quot;&quot;&quot;</span>
<span class="s">    This is a docstring</span>
<span class="s">    on two lines</span>
<span class="s">    </span><span class="k">&quot;&quot;&quot;</span>

<span class="nf">    </span><span class="k">And </span><span class="nf">a step provides a docstring with lower indentation</span>
<span class="nf">    </span><span class="k">&quot;&quot;&quot;</span>
<span class="s">This is a docstring</span>
<span class="s">    </span><span class="k">&quot;&quot;&quot;</span>

<span class="nf">    </span><span class="k">And </span><span class="nf">this step has no docstring</span>

<span class="nf">    </span><span class="k">And </span><span class="nf">this step has a greater indentation</span>
<span class="nf">    </span><span class="k">&quot;&quot;&quot;</span>
<span class="s">        This is a docstring</span>
<span class="s">    </span><span class="k">&quot;&quot;&quot;</span>

<span class="nf">    </span><span class="k">And </span><span class="nf">this step has no docstring</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">given</span><span class="p">,</span> <span class="n">then</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;some steps will have docstrings&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;a step has a docstring&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">docstring</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">docstring</span> <span class="o">==</span> <span class="s2">&quot;This is a docstring</span><span class="se">\n</span><span class="s2">on two lines&quot;</span>

<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;a step provides a docstring with lower indentation&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">docstring</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">docstring</span> <span class="o">==</span> <span class="s2">&quot;This is a docstring&quot;</span>

<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;this step has a greater indentation&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">docstring</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">docstring</span> <span class="o">==</span> <span class="s2">&quot;This is a docstring&quot;</span>

<span class="nd">@then</span><span class="p">(</span><span class="s2">&quot;this step has no docstring&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">docstring</span></code> argument can only be used for steps that have an associated docstring.
Otherwise, an error will be thrown.</p>
</div>
</section>
<section id="organizing-your-scenarios">
<h2>Organizing your scenarios<a class="headerlink" href="index.html#organizing-your-scenarios" title="Link to this heading">¶</a></h2>
<p>The more features and scenarios you have, the more important the question of their organization becomes.
The things you can do (and that is also a recommended way):</p>
<ul class="simple">
<li><p>organize your feature files in the folders by semantic groups:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>features
│
├──frontend
│  │
│  └──auth
│     │
│     └──login.feature
└──backend
   │
   └──auth
      │
      └──login.feature
</pre></div>
</div>
<p>This looks fine, but how do you run tests only for a certain feature?
As pytest-bdd uses pytest, and bdd scenarios are actually normal tests. But test files
are separate from the feature files, the mapping is up to developers, so the test files structure can look
completely different:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tests
│
└──functional
   │
   └──test_auth.py
      │
      └ &quot;&quot;&quot;Authentication tests.&quot;&quot;&quot;
        from pytest_bdd import scenario

        @scenario(&#39;frontend/auth/login.feature&#39;)
        def test_logging_in_frontend():
            pass

        @scenario(&#39;backend/auth/login.feature&#39;)
        def test_logging_in_backend():
            pass
</pre></div>
</div>
<p>For picking up tests to run we can use the
<a class="reference external" href="https://pytest.org/en/7.1.x/how-to/usage.html#specifying-which-tests-to-run">tests selection</a> technique. The problem is that
you have to know how your tests are organized, knowing only the feature files organization is not enough.
Cucumber uses <a class="reference external" href="https://cucumber.io/docs/cucumber/api/#tags">tags</a> as a way of categorizing your features
and scenarios, which pytest-bdd supports. For example, we could have:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="nt">@login</span><span class="nf"> </span><span class="nt">@backend</span>
<span class="k">Feature:</span><span class="nf"> Login</span>

<span class="nf">  @successful</span>
<span class="nf">  </span><span class="k">Scenario:</span><span class="nf"> Successful login</span>
</pre></div>
</div>
<p>pytest-bdd uses <a class="reference external" href="http://pytest.org/latest/mark.html">pytest markers</a> as a <cite>storage</cite> of the tags for the given
scenario test, so we can use standard test selection:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;backend and login and successful&quot;</span>
</pre></div>
</div>
<p>The feature and scenario markers are not different from standard pytest markers, and the <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> symbol is stripped out automatically to allow test selector expressions. If you want to have bdd-related tags to be distinguishable from the other test markers, use a prefix like <code class="docutils literal notranslate"><span class="pre">bdd</span></code>.
Note that if you use pytest with the <code class="docutils literal notranslate"><span class="pre">--strict-markers</span></code> option, all Gherkin tags mentioned in the feature files should be also in the <code class="docutils literal notranslate"><span class="pre">markers</span></code> setting of the <code class="docutils literal notranslate"><span class="pre">pytest.ini</span></code> config. Also for tags please use names which are python-compatible variable names, i.e. start with a non-number, only underscores or alphanumeric characters, etc. That way you can safely use tags for tests filtering.</p>
<p>You can customize how tags are converted to pytest marks by implementing the
<code class="docutils literal notranslate"><span class="pre">pytest_bdd_apply_tag</span></code> hook and returning <code class="docutils literal notranslate"><span class="pre">True</span></code> from it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pytest_bdd_apply_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">function</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">tag</span> <span class="o">==</span> <span class="s1">&#39;todo&#39;</span><span class="p">:</span>
        <span class="n">marker</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s2">&quot;Not implemented yet&quot;</span><span class="p">)</span>
        <span class="n">marker</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Fall back to the default behavior of pytest-bdd</span>
        <span class="k">return</span> <span class="kc">None</span>
</pre></div>
</div>
</section>
<section id="test-setup">
<h2>Test setup<a class="headerlink" href="index.html#test-setup" title="Link to this heading">¶</a></h2>
<p>Test setup is implemented within the Given section. Even though these steps
are executed imperatively to apply possible side-effects, pytest-bdd is trying
to benefit of the PyTest fixtures which is based on the dependency injection
and makes the setup more declarative style.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have a beautiful article&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">article</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">Article</span><span class="p">(</span><span class="n">is_beautiful</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The target PyTest fixture “article” gets the return value and any other step can depend on it.</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> The power of PyTest</span>
<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Symbolic name across steps</span>
<span class="k">        Given </span><span class="nf">I have a beautiful article</span>
<span class="nf">        </span><span class="k">When </span><span class="nf">I publish this article</span>
</pre></div>
</div>
<p>The When step is referencing the <code class="docutils literal notranslate"><span class="pre">article</span></code> to publish it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@when</span><span class="p">(</span><span class="s2">&quot;I publish this article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">publish_article</span><span class="p">(</span><span class="n">article</span><span class="p">):</span>
    <span class="n">article</span><span class="o">.</span><span class="n">publish</span><span class="p">()</span>
</pre></div>
</div>
<p>Many other BDD toolkits operate on a global context and put the side effects there.
This makes it very difficult to implement the steps, because the dependencies
appear only as the side-effects during run-time and not declared in the code.
The “publish article” step has to trust that the article is already in the context,
has to know the name of the attribute it is stored there, the type etc.</p>
<p>In pytest-bdd you just declare an argument of the step function that it depends on
and the PyTest will make sure to provide it.</p>
<p>Still side effects can be applied in the imperative style by design of the BDD.</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> News website</span>
<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Publishing an article</span>
<span class="k">        Given </span><span class="nf">I have a beautiful article</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">my article is published</span>
</pre></div>
</div>
<p>Functional tests can reuse your fixture libraries created for the unit-tests and upgrade
them by applying the side effects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">article</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">Article</span><span class="p">(</span><span class="n">is_beautiful</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have a beautiful article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">i_have_a_beautiful_article</span><span class="p">(</span><span class="n">article</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;my article is published&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">published_article</span><span class="p">(</span><span class="n">article</span><span class="p">):</span>
    <span class="n">article</span><span class="o">.</span><span class="n">publish</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">article</span>
</pre></div>
</div>
<p>This way side-effects were applied to our article and PyTest makes sure that all
steps that require the “article” fixture will receive the same object. The value
of the “published_article” and the “article” fixtures is the same object.</p>
<p>Fixtures are evaluated <strong>only once</strong> within the PyTest scope and their values are cached.</p>
</section>
<section id="backgrounds">
<h2>Backgrounds<a class="headerlink" href="index.html#backgrounds" title="Link to this heading">¶</a></h2>
<p>It’s often the case that to cover certain feature, you’ll need multiple scenarios. And it’s logical that the
setup for those scenarios will have some common parts (if not equal). For this, there are <cite>backgrounds</cite>.
pytest-bdd implements <a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#background">Gherkin backgrounds</a> for
features.</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="k">Feature:</span><span class="nf"> Multiple site support</span>

<span class="nf">  </span><span class="k">Background:</span>
<span class="k">    Given </span><span class="nf">a global administrator named &quot;</span><span class="s">Greg</span><span class="nf">&quot;</span>
<span class="nf">    </span><span class="k">And </span><span class="nf">a blog named &quot;</span><span class="s">Greg&#39;s anti-tax rants</span><span class="nf">&quot;</span>
<span class="nf">    </span><span class="k">And </span><span class="nf">a customer named &quot;</span><span class="s">Wilson</span><span class="nf">&quot;</span>
<span class="nf">    </span><span class="k">And </span><span class="nf">a blog named &quot;</span><span class="s">Expensive Therapy</span><span class="nf">&quot; owned by &quot;</span><span class="s">Wilson</span><span class="nf">&quot;</span>

<span class="nf">  </span><span class="k">Scenario:</span><span class="nf"> Wilson posts to his own blog</span>
<span class="k">    Given </span><span class="nf">I am logged in as Wilson</span>
<span class="nf">    </span><span class="k">When </span><span class="nf">I try to post to &quot;</span><span class="s">Expensive Therapy</span><span class="nf">&quot;</span>
<span class="nf">    </span><span class="k">Then </span><span class="nf">I should see &quot;</span><span class="s">Your article was published.</span><span class="nf">&quot;</span>

<span class="nf">  </span><span class="k">Scenario:</span><span class="nf"> Greg posts to a client&#39;s blog</span>
<span class="k">    Given </span><span class="nf">I am logged in as Greg</span>
<span class="nf">    </span><span class="k">When </span><span class="nf">I try to post to &quot;</span><span class="s">Expensive Therapy</span><span class="nf">&quot;</span>
<span class="nf">    </span><span class="k">Then </span><span class="nf">I should see &quot;</span><span class="s">Your article was published.</span><span class="nf">&quot;</span>
</pre></div>
</div>
<p>In this example, all steps from the background will be executed before all the scenario’s own given
steps, adding a possibility to prepare some common setup for multiple scenarios in a single feature.
About best practices for Background, please read Gherkin’s
<a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#tips-for-using-background">Tips for using Background</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only “Given” steps should be used in “Background” section.
Steps “When” and “Then” are prohibited, because their purposes are
related to actions and consuming outcomes; that is in conflict with the
aim of “Background” - to prepare the system for tests or “put the system
in a known state” as “Given” does it.</p>
</div>
</section>
<section id="reusing-fixtures">
<h2>Reusing fixtures<a class="headerlink" href="index.html#reusing-fixtures" title="Link to this heading">¶</a></h2>
<p>Sometimes scenarios define new names for an existing fixture that can be
inherited (reused). For example, if we have the pytest fixture:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">article</span><span class="p">():</span>
<span class="w">   </span><span class="sd">&quot;&quot;&quot;Test article.&quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="n">Article</span><span class="p">()</span>
</pre></div>
</div>
<p>Then this fixture can be reused with other names using given():</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@given</span><span class="p">(</span><span class="s1">&#39;I have a beautiful article&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">i_have_an_article</span><span class="p">(</span><span class="n">article</span><span class="p">):</span>
<span class="w">   </span><span class="sd">&quot;&quot;&quot;I have an article.&quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="reusing-steps">
<h2>Reusing steps<a class="headerlink" href="index.html#reusing-steps" title="Link to this heading">¶</a></h2>
<p>It is possible to define some common steps in the parent <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code> and
simply expect them in the child test file.</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="c"># content of common_steps.feature</span>

<span class="k">Scenario:</span><span class="nf"> All steps are declared in the conftest</span>
<span class="k">    Given </span><span class="nf">I have a bar</span>
<span class="nf">    </span><span class="k">Then </span><span class="nf">bar should have value &quot;</span><span class="s">bar</span><span class="nf">&quot;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of conftest.py</span>

<span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">given</span><span class="p">,</span> <span class="n">then</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have a bar&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">bar</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;bar&quot;</span>


<span class="nd">@then</span><span class="p">(</span><span class="s1">&#39;bar should have value &quot;bar&quot;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">bar_is_bar</span><span class="p">(</span><span class="n">bar</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">bar</span> <span class="o">==</span> <span class="s2">&quot;bar&quot;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of test_common.py</span>

<span class="nd">@scenario</span><span class="p">(</span><span class="s2">&quot;common_steps.feature&quot;</span><span class="p">,</span> <span class="s2">&quot;All steps are declared in the conftest&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_conftest</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>There are no definitions of steps in the test file. They were
collected from the parent conftest.py.</p>
</section>
<section id="default-steps">
<h2>Default steps<a class="headerlink" href="index.html#default-steps" title="Link to this heading">¶</a></h2>
<p>Here is the list of steps that are implemented inside pytest-bdd:</p>
<dl class="simple">
<dt>given</dt><dd><ul class="simple">
<li><p>trace - enters the <cite>pdb</cite> debugger via <cite>pytest.set_trace()</cite></p></li>
</ul>
</dd>
<dt>when</dt><dd><ul class="simple">
<li><p>trace - enters the <cite>pdb</cite> debugger via <cite>pytest.set_trace()</cite></p></li>
</ul>
</dd>
<dt>then</dt><dd><ul class="simple">
<li><p>trace - enters the <cite>pdb</cite> debugger via <cite>pytest.set_trace()</cite></p></li>
</ul>
</dd>
</dl>
</section>
<section id="feature-file-paths">
<h2>Feature file paths<a class="headerlink" href="index.html#feature-file-paths" title="Link to this heading">¶</a></h2>
<p>By default, pytest-bdd will use the current module’s path as the base path for finding feature files, but this behaviour can be changed in the pytest configuration file (i.e. <cite>pytest.ini</cite>, <cite>tox.ini</cite> or <cite>setup.cfg</cite>) by declaring the new base path in the <cite>bdd_features_base_dir</cite> key. The path is interpreted as relative to the <a class="reference external" href="https://docs.pytest.org/en/latest/reference/customize.html#rootdir">pytest root directory</a>.
You can also override the features base path on a per-scenario basis, in order to override the path for specific tests.</p>
<p>pytest.ini:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[pytest]</span>
<span class="na">bdd_features_base_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">features/</span>
</pre></div>
</div>
<p>tests/test_publish_article.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenario</span>


<span class="nd">@scenario</span><span class="p">(</span><span class="s2">&quot;foo.feature&quot;</span><span class="p">,</span> <span class="s2">&quot;Foo feature in features/foo.feature&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_foo</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="nd">@scenario</span><span class="p">(</span>
    <span class="s2">&quot;foo.feature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Foo feature in tests/local-features/foo.feature&quot;</span><span class="p">,</span>
    <span class="n">features_base_dir</span><span class="o">=</span><span class="s2">&quot;./local-features/&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">test_foo_local</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>The <cite>features_base_dir</cite> parameter can also be passed to the <cite>&#64;scenario</cite> decorator.</p>
</section>
<section id="avoid-retyping-the-feature-file-name">
<h2>Avoid retyping the feature file name<a class="headerlink" href="index.html#avoid-retyping-the-feature-file-name" title="Link to this heading">¶</a></h2>
<p>If you want to avoid retyping the feature file name when defining your scenarios in a test file, use <code class="docutils literal notranslate"><span class="pre">functools.partial</span></code>.
This will make your life much easier when defining multiple scenarios in a test file. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># content of test_publish_article.py</span>

<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="kn">import</span> <span class="nn">pytest_bdd</span>


<span class="n">scenario</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">pytest_bdd</span><span class="o">.</span><span class="n">scenario</span><span class="p">,</span> <span class="s2">&quot;/path/to/publish_article.feature&quot;</span><span class="p">)</span>


<span class="nd">@scenario</span><span class="p">(</span><span class="s2">&quot;Publishing the article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_publish</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="nd">@scenario</span><span class="p">(</span><span class="s2">&quot;Publishing the article as unprivileged user&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_publish_unprivileged</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>You can learn more about <a class="reference external" href="https://docs.python.org/3/library/functools.html#functools.partial">functools.partial</a>
in the Python docs.</p>
</section>
<section id="programmatic-step-generation">
<h2>Programmatic step generation<a class="headerlink" href="index.html#programmatic-step-generation" title="Link to this heading">¶</a></h2>
<p>Sometimes you have step definitions that would be much easier to automate rather than writing them manually over and over again.
This is common, for example, when using libraries like <a class="reference external" href="https://pytest-factoryboy.readthedocs.io/">pytest-factoryboy</a> that automatically creates fixtures.
Writing step definitions for every model can become a tedious task.</p>
<p>For this reason, pytest-bdd provides a way to generate step definitions automatically.</p>
<p>The trick is to pass the <code class="docutils literal notranslate"><span class="pre">stacklevel</span></code> parameter to the <code class="docutils literal notranslate"><span class="pre">given</span></code>, <code class="docutils literal notranslate"><span class="pre">when</span></code>, <code class="docutils literal notranslate"><span class="pre">then</span></code>, <code class="docutils literal notranslate"><span class="pre">step</span></code> decorators. This will instruct them to inject the step fixtures in the appropriate module, rather than just injecting them in the caller frame.</p>
<p>Let’s look at a concrete example; let’s say you have a class <code class="docutils literal notranslate"><span class="pre">Wallet</span></code> that has some amount of each currency:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># contents of wallet.py</span>

<span class="kn">import</span> <span class="nn">dataclass</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Wallet</span><span class="p">:</span>
    <span class="n">verified</span><span class="p">:</span> <span class="nb">bool</span>

    <span class="n">amount_eur</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">amount_usd</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">amount_gbp</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">amount_jpy</span><span class="p">:</span> <span class="nb">int</span>
</pre></div>
</div>
<p>You can use pytest-factoryboy to automatically create model fixtures for this class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># contents of wallet_factory.py</span>

<span class="kn">from</span> <span class="nn">wallet</span> <span class="kn">import</span> <span class="n">Wallet</span>

<span class="kn">import</span> <span class="nn">factory</span>
<span class="kn">from</span> <span class="nn">pytest_factoryboy</span> <span class="kn">import</span> <span class="n">register</span>

<span class="k">class</span> <span class="nc">WalletFactory</span><span class="p">(</span><span class="n">factory</span><span class="o">.</span><span class="n">Factory</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Wallet</span>

    <span class="n">amount_eur</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">amount_usd</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">amount_gbp</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">amount_jpy</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">register</span><span class="p">(</span><span class="n">Wallet</span><span class="p">)</span>  <span class="c1"># creates the &quot;wallet&quot; fixture</span>
<span class="n">register</span><span class="p">(</span><span class="n">Wallet</span><span class="p">,</span> <span class="s2">&quot;second_wallet&quot;</span><span class="p">)</span>  <span class="c1"># creates the &quot;second_wallet&quot; fixture</span>
</pre></div>
</div>
<p>Now we can define a function <code class="docutils literal notranslate"><span class="pre">generate_wallet_steps(...)</span></code> that creates the steps for any wallet fixture (in our case, it will be <code class="docutils literal notranslate"><span class="pre">wallet</span></code> and <code class="docutils literal notranslate"><span class="pre">second_wallet</span></code>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># contents of wallet_steps.py</span>

<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">fields</span>

<span class="kn">import</span> <span class="nn">factory</span>
<span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span><span class="p">,</span> <span class="n">scenarios</span><span class="p">,</span> <span class="n">parsers</span>


<span class="k">def</span> <span class="nf">generate_wallet_steps</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;wallet&quot;</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">stacklevel</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">human_name</span> <span class="o">=</span> <span class="n">model_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>  <span class="c1"># &quot;second_wallet&quot; -&gt; &quot;second wallet&quot;</span>

    <span class="nd">@given</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;I have a </span><span class="si">{</span><span class="n">human_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="n">model_name</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">getfixturevalue</span><span class="p">(</span><span class="n">model_name</span><span class="p">)</span>

    <span class="c1"># Generate steps for currency fields:</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">(</span><span class="n">Wallet</span><span class="p">):</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;amount_(?P&lt;currency&gt;[a-z]</span><span class="si">{3}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">currency</span> <span class="o">=</span> <span class="n">match</span><span class="p">[</span><span class="s2">&quot;currency&quot;</span><span class="p">]</span>

        <span class="nd">@given</span><span class="p">(</span>
            <span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;I have </span><span class="se">{{</span><span class="s2">value:d</span><span class="se">}}</span><span class="s2"> </span><span class="si">{</span><span class="n">currency</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> in my </span><span class="si">{</span><span class="n">human_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="n">target_fixture</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">__amount_</span><span class="si">{</span><span class="n">currency</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="nd">@then</span><span class="p">(</span>
            <span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;I should have </span><span class="se">{{</span><span class="s2">value:d</span><span class="se">}}</span><span class="s2"> </span><span class="si">{</span><span class="n">currency</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> in my </span><span class="si">{</span><span class="n">human_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">_currency</span><span class="o">=</span><span class="n">currency</span><span class="p">,</span> <span class="n">_model_name</span><span class="o">=</span><span class="n">model_name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">wallet</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getfixturevalue</span><span class="p">(</span><span class="n">_model_name</span><span class="p">)</span>
            <span class="k">assert</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">wallet</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;amount_</span><span class="si">{</span><span class="n">_currency</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">value</span>

<span class="c1"># Inject the steps into the current module</span>
<span class="n">generate_wallet_steps</span><span class="p">(</span><span class="s2">&quot;wallet&quot;</span><span class="p">)</span>
<span class="n">generate_wallet_steps</span><span class="p">(</span><span class="s2">&quot;second_wallet&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This last file, <code class="docutils literal notranslate"><span class="pre">wallet_steps.py</span></code>, now contains all the step definitions for our “wallet” and “second_wallet” fixtures.</p>
<p>We can now define a scenario like this:</p>
<div class="highlight-gherkin notranslate"><div class="highlight"><pre><span></span><span class="c"># contents of wallet.feature</span>
<span class="k">Feature:</span><span class="nf"> A feature</span>

<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Wallet EUR amount stays constant</span>
<span class="k">        Given </span><span class="nf">I have </span><span class="s">10</span><span class="nf"> EUR in my wallet</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">I have a wallet</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">I should have </span><span class="s">10</span><span class="nf"> EUR in my wallet</span>

<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Second wallet JPY amount stays constant</span>
<span class="k">        Given </span><span class="nf">I have </span><span class="s">100</span><span class="nf"> JPY in my second wallet</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">I have a second wallet</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">I should have </span><span class="s">100</span><span class="nf"> JPY in my second wallet</span>
</pre></div>
</div>
<p>and finally a test file that puts it all together and run the scenarios:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># contents of test_wallet.py</span>

<span class="kn">from</span> <span class="nn">pytest_factoryboy</span> <span class="kn">import</span> <span class="n">scenarios</span>

<span class="kn">from</span> <span class="nn">wallet_factory</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># import the registered fixtures &quot;wallet&quot; and &quot;second_wallet&quot;</span>
<span class="kn">from</span> <span class="nn">wallet_steps</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># import all the step definitions into this test file</span>

<span class="n">scenarios</span><span class="p">(</span><span class="s2">&quot;wallet.feature&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="hooks">
<h2>Hooks<a class="headerlink" href="index.html#hooks" title="Link to this heading">¶</a></h2>
<p>pytest-bdd exposes several <a class="reference external" href="https://docs.pytest.org/en/7.1.x/reference/reference.html#hooks">pytest hooks</a>
which might be helpful building useful reporting, visualization, etc. on top of it:</p>
<ul class="simple">
<li><p><cite>pytest_bdd_before_scenario(request, feature, scenario)</cite> - Called before scenario is executed</p></li>
<li><p><cite>pytest_bdd_after_scenario(request, feature, scenario)</cite> - Called after scenario is executed
(even if one of steps has failed)</p></li>
<li><p><cite>pytest_bdd_before_step(request, feature, scenario, step, step_func)</cite> - Called before step function
is executed and its arguments evaluated</p></li>
<li><p><cite>pytest_bdd_before_step_call(request, feature, scenario, step, step_func, step_func_args)</cite> - Called before step
function is executed with evaluated arguments</p></li>
<li><p><cite>pytest_bdd_after_step(request, feature, scenario, step, step_func, step_func_args)</cite> - Called after step function
is successfully executed</p></li>
<li><p><cite>pytest_bdd_step_error(request, feature, scenario, step, step_func, step_func_args, exception)</cite> - Called when step
function failed to execute</p></li>
<li><p><cite>pytest_bdd_step_func_lookup_error(request, feature, scenario, step, exception)</cite> - Called when step lookup failed</p></li>
</ul>
</section>
<section id="browser-testing">
<h2>Browser testing<a class="headerlink" href="index.html#browser-testing" title="Link to this heading">¶</a></h2>
<p>Tools recommended to use for browser testing:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/pytest-dev/pytest-splinter">pytest-splinter</a> - pytest <a class="reference external" href="https://splinter.readthedocs.io/">splinter</a> integration for the real browser testing</p></li>
</ul>
</section>
<section id="reporting">
<h2>Reporting<a class="headerlink" href="index.html#reporting" title="Link to this heading">¶</a></h2>
<p>It’s important to have nice reporting out of your bdd tests. Cucumber introduced some kind of standard for
<a class="reference external" href="https://www.relishapp.com/cucumber/cucumber/docs/json-output-formatter">json format</a>
which can be used for, for example, by <a class="reference external" href="https://plugins.jenkins.io/cucumber-testresult-plugin/">this</a> Jenkins
plugin.</p>
<p>To have an output in json format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">--</span><span class="n">cucumberjson</span><span class="o">=&lt;</span><span class="n">path</span> <span class="n">to</span> <span class="n">json</span> <span class="n">report</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This will output an expanded (meaning scenario outlines will be expanded to several scenarios) Cucumber format.</p>
<p>To enable gherkin-formatted output on terminal, use <cite>–gherkin-terminal-reporter</cite> in conjunction with the <cite>-v</cite> or <cite>-vv</cite> options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">-</span><span class="n">v</span> <span class="o">--</span><span class="n">gherkin</span><span class="o">-</span><span class="n">terminal</span><span class="o">-</span><span class="n">reporter</span>
</pre></div>
</div>
</section>
<section id="test-code-generation-helpers">
<h2>Test code generation helpers<a class="headerlink" href="index.html#test-code-generation-helpers" title="Link to this heading">¶</a></h2>
<p>For newcomers it’s sometimes hard to write all needed test code without being frustrated.
To simplify their life, a simple code generator was implemented. It allows to create fully functional
(but of course empty) tests and step definitions for a given feature file.
It’s done as a separate console script provided by pytest-bdd package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span><span class="o">-</span><span class="n">bdd</span> <span class="n">generate</span> <span class="o">&lt;</span><span class="n">feature</span> <span class="n">file</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">..</span> <span class="o">&lt;</span><span class="n">feature</span> <span class="n">file</span> <span class="n">nameN</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>It will print the generated code to the standard output so you can easily redirect it to the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span><span class="o">-</span><span class="n">bdd</span> <span class="n">generate</span> <span class="n">features</span><span class="o">/</span><span class="n">some</span><span class="o">.</span><span class="n">feature</span> <span class="o">&gt;</span> <span class="n">tests</span><span class="o">/</span><span class="n">functional</span><span class="o">/</span><span class="n">test_some</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section id="advanced-code-generation">
<h2>Advanced code generation<a class="headerlink" href="index.html#advanced-code-generation" title="Link to this heading">¶</a></h2>
<p>For more experienced users, there’s a smart code generation/suggestion feature. It will only generate the
test code which is not yet there, checking existing tests and step definitions the same way it’s done during the
test execution. The code suggestion tool is called via passing additional pytest arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span> <span class="o">--</span><span class="n">generate</span><span class="o">-</span><span class="n">missing</span> <span class="o">--</span><span class="n">feature</span> <span class="n">features</span> <span class="n">tests</span><span class="o">/</span><span class="n">functional</span>
</pre></div>
</div>
<p>The output will be like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">=============================</span> <span class="n">test</span> <span class="n">session</span> <span class="n">starts</span> <span class="o">==============================</span>
<span class="n">platform</span> <span class="n">linux2</span> <span class="o">--</span> <span class="n">Python</span> <span class="mf">2.7.6</span> <span class="o">--</span> <span class="n">py</span><span class="o">-</span><span class="mf">1.4.24</span> <span class="o">--</span> <span class="n">pytest</span><span class="o">-</span><span class="mf">2.6.2</span>
<span class="n">plugins</span><span class="p">:</span> <span class="n">xdist</span><span class="p">,</span> <span class="n">pep8</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">cache</span><span class="p">,</span> <span class="n">bdd</span><span class="p">,</span> <span class="n">bdd</span><span class="p">,</span> <span class="n">bdd</span>
<span class="n">collected</span> <span class="mi">2</span> <span class="n">items</span>

<span class="n">Scenario</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">bound</span> <span class="n">to</span> <span class="nb">any</span> <span class="n">test</span><span class="p">:</span> <span class="s2">&quot;Code is generated for scenarios which are not bound to any tests&quot;</span> <span class="ow">in</span> <span class="n">feature</span> <span class="s2">&quot;Missing code generation&quot;</span> <span class="ow">in</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">pytest</span><span class="o">-</span><span class="mi">552</span><span class="o">/</span><span class="n">testdir</span><span class="o">/</span><span class="n">test_generate_missing0</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">generation</span><span class="o">.</span><span class="n">feature</span>
<span class="o">--------------------------------------------------------------------------------</span>

<span class="n">Step</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span><span class="p">:</span> <span class="s2">&quot;I have a custom bar&quot;</span> <span class="ow">in</span> <span class="n">scenario</span><span class="p">:</span> <span class="s2">&quot;Code is generated for scenario steps which are not yet defined(implemented)&quot;</span> <span class="ow">in</span> <span class="n">feature</span> <span class="s2">&quot;Missing code generation&quot;</span> <span class="ow">in</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">pytest</span><span class="o">-</span><span class="mi">552</span><span class="o">/</span><span class="n">testdir</span><span class="o">/</span><span class="n">test_generate_missing0</span><span class="o">/</span><span class="n">tests</span><span class="o">/</span><span class="n">generation</span><span class="o">.</span><span class="n">feature</span>
<span class="o">--------------------------------------------------------------------------------</span>
<span class="n">Please</span> <span class="n">place</span> <span class="n">the</span> <span class="n">code</span> <span class="n">above</span> <span class="n">to</span> <span class="n">the</span> <span class="n">test</span> <span class="n">file</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>

<span class="nd">@scenario</span><span class="p">(</span><span class="s1">&#39;tests/generation.feature&#39;</span><span class="p">,</span> <span class="s1">&#39;Code is generated for scenarios which are not bound to any tests&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_Code_is_generated_for_scenarios_which_are_not_bound_to_any_tests</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Code is generated for scenarios which are not bound to any tests.&quot;&quot;&quot;</span>


<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;I have a custom bar&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">I_have_a_custom_bar</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;I have a custom bar.&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>As as side effect, the tool will validate the files for format errors, also some of the logic bugs, for example the
ordering of the types of the steps.</p>
</section>
<section id="migration-of-your-tests-from-versions-5-x-x">
<span id="migration-from-5-x-x"></span><h2>Migration of your tests from versions 5.x.x<a class="headerlink" href="index.html#migration-of-your-tests-from-versions-5-x-x" title="Link to this heading">¶</a></h2>
<p>The primary focus of the pytest-bdd is the compatibility with the latest gherkin developments
e.g. multiple scenario outline example tables with tags support etc.</p>
<p>In order to provide the best compatibility, it is best to support the features described in the official
gherkin reference. This means deprecation of some non-standard features that were implemented in pytest-bdd.</p>
<section id="removal-of-the-feature-examples">
<h3>Removal of the feature examples<a class="headerlink" href="index.html#removal-of-the-feature-examples" title="Link to this heading">¶</a></h3>
<p>The example tables on the feature level are no longer supported. If you had examples on the feature level, you should copy them to each individual scenario.</p>
</section>
<section id="removal-of-the-vertical-examples">
<h3>Removal of the vertical examples<a class="headerlink" href="index.html#removal-of-the-vertical-examples" title="Link to this heading">¶</a></h3>
<p>Vertical example tables are no longer supported since the official gherkin doesn’t support them.
The example tables should have horizontal orientation.</p>
</section>
<section id="step-arguments-are-no-longer-fixtures">
<h3>Step arguments are no longer fixtures<a class="headerlink" href="index.html#step-arguments-are-no-longer-fixtures" title="Link to this heading">¶</a></h3>
<p>Step parsed arguments conflicted with the fixtures. Now they no longer define fixture.
If the fixture has to be defined by the step, the target_fixture param should be used.</p>
</section>
<section id="variable-templates-in-steps-are-only-parsed-for-scenario-outlines">
<h3>Variable templates in steps are only parsed for Scenario Outlines<a class="headerlink" href="index.html#variable-templates-in-steps-are-only-parsed-for-scenario-outlines" title="Link to this heading">¶</a></h3>
<p>In previous versions of pytest, steps containing <code class="docutils literal notranslate"><span class="pre">&lt;variable&gt;</span></code> would be parsed both by <code class="docutils literal notranslate"><span class="pre">Scenario</span></code> and <code class="docutils literal notranslate"><span class="pre">Scenario</span> <span class="pre">Outline</span></code>.
Now they are only parsed within a <code class="docutils literal notranslate"><span class="pre">Scenario</span> <span class="pre">Outline</span></code>.</p>
</section>
</section>
<section id="migration-of-your-tests-from-versions-4-x-x">
<span id="migration-from-4-x-x"></span><h2>Migration of your tests from versions 4.x.x<a class="headerlink" href="index.html#migration-of-your-tests-from-versions-4-x-x" title="Link to this heading">¶</a></h2>
<section id="replace-usage-of-parameter-inside-step-definitions-with-parsed-parameter">
<h3>Replace usage of &lt;parameter&gt; inside step definitions with parsed {parameter}<a class="headerlink" href="index.html#replace-usage-of-parameter-inside-step-definitions-with-parsed-parameter" title="Link to this heading">¶</a></h3>
<p>Templated steps (e.g. <code class="docutils literal notranslate"><span class="pre">&#64;given(&quot;there</span> <span class="pre">are</span> <span class="pre">&lt;start&gt;</span> <span class="pre">cucumbers&quot;)</span></code>) should now the use step argument parsers in order to match the scenario outlines and get the values from the example tables. The values from the example tables are no longer passed as fixtures, although if you define your step to use a parser, the parameters will be still provided as fixtures.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old step definition:</span>
<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;there are &lt;start&gt; cucumbers&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="c1"># New step definition:</span>
<span class="nd">@given</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;there are </span><span class="si">{start}</span><span class="s2"> cucumbers&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Scenario <cite>example_converters</cite> are removed in favor of the converters provided on the step level:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Old code:</span>
<span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;there are &lt;start&gt; cucumbers&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">}</span>

<span class="nd">@scenario</span><span class="p">(</span><span class="s2">&quot;outline.feature&quot;</span><span class="p">,</span> <span class="s2">&quot;Outlined&quot;</span><span class="p">,</span> <span class="n">example_converters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">})</span>
<span class="k">def</span> <span class="nf">test_outline</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="c1"># New code:</span>
<span class="nd">@given</span><span class="p">(</span><span class="n">parsers</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">&quot;there are </span><span class="si">{start}</span><span class="s2"> cucumbers&quot;</span><span class="p">),</span> <span class="n">converters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">})</span>
<span class="k">def</span> <span class="nf">given_cucumbers</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;start&quot;</span><span class="p">:</span> <span class="n">start</span><span class="p">}</span>

<span class="nd">@scenario</span><span class="p">(</span><span class="s2">&quot;outline.feature&quot;</span><span class="p">,</span> <span class="s2">&quot;Outlined&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_outline</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
</section>
<section id="refuse-combining-scenario-outline-and-pytest-parametrization">
<h3>Refuse combining scenario outline and pytest parametrization<a class="headerlink" href="index.html#refuse-combining-scenario-outline-and-pytest-parametrization" title="Link to this heading">¶</a></h3>
<p>The significant downside of combining scenario outline and pytest parametrization approach was an inability to see the
test table from the feature file.</p>
</section>
</section>
<section id="migration-of-your-tests-from-versions-3-x-x">
<span id="migration-from-3-x-x"></span><h2>Migration of your tests from versions 3.x.x<a class="headerlink" href="index.html#migration-of-your-tests-from-versions-3-x-x" title="Link to this heading">¶</a></h2>
<p>Given steps are no longer fixtures. In case it is needed to make given step setup a fixture,
the target_fixture parameter should be used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;there&#39;s an article&quot;</span><span class="p">,</span> <span class="n">target_fixture</span><span class="o">=</span><span class="s2">&quot;article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">there_is_an_article</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">Article</span><span class="p">()</span>
</pre></div>
</div>
<p>Given steps no longer have the <cite>fixture</cite> parameter. In fact the step may depend on multiple fixtures.
Just normal step declaration with the dependency injection should be used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@given</span><span class="p">(</span><span class="s2">&quot;there&#39;s an article&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">there_is_an_article</span><span class="p">(</span><span class="n">article</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Strict gherkin option is removed, so the <code class="docutils literal notranslate"><span class="pre">strict_gherkin</span></code> parameter can be removed from the scenario decorators
as well as <code class="docutils literal notranslate"><span class="pre">bdd_strict_gherkin</span></code> from the ini files.</p>
<p>Step validation handlers for the hook <code class="docutils literal notranslate"><span class="pre">pytest_bdd_step_validation_error</span></code> should be removed.</p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="index.html#license" title="Link to this heading">¶</a></h2>
<p>This software is licensed under the <a class="reference external" href="https://opensource.org/licenses/MIT">MIT License</a>.</p>
<p>© 2013 Oleg Pidsadnyi, Anatoly Bubenkov and others</p>
</section>
</section>
<section id="authors">
<h1>Authors<a class="headerlink" href="index.html#authors" title="Link to this heading">¶</a></h1>
<dl class="simple">
<dt><a class="reference external" href="mailto:oleg&#46;pidsadnyi&#37;&#52;&#48;gmail&#46;com">Oleg Pidsadnyi</a></dt><dd><p>original idea, initial implementation and further improvements</p>
</dd>
<dt><a class="reference external" href="mailto:bubenkoff&#37;&#52;&#48;gmail&#46;com">Anatoly Bubenkov</a></dt><dd><p>key implementation idea and realization, many new features and improvements</p>
</dd>
</dl>
<p>These people have contributed to <cite>pytest-bdd</cite>, in alphabetical order:</p>
<ul class="simple">
<li><p><a class="reference external" href="mailto:me&#37;&#52;&#48;adamcoddington&#46;net">Adam Coddington</a></p></li>
<li><p><a class="reference external" href="mailto:albertjan&#37;&#52;&#48;curit&#46;com">Albert-Jan Nijburg</a></p></li>
<li><p><a class="reference external" href="https://pytest-bdd.readthedocs.io/en/stable/youtux">Alessio Bogon</a></p></li>
<li><p><a class="reference external" href="mailto:andrey&#46;makhnach&#37;&#52;&#48;gmail&#46;com">Andrey Makhnach</a></p></li>
<li><p><a class="reference external" href="mailto:curzona&#37;&#52;&#48;gmail&#46;com">Aron Curzon</a></p></li>
<li><p><a class="reference external" href="mailto:dimazest&#37;&#52;&#48;gmail&#46;com">Dmitrijs Milajevs</a></p></li>
<li><p><a class="reference external" href="https://pytest-bdd.readthedocs.io/en/stable/pauk-slon">Dmitry Kolyagin</a></p></li>
<li><p><a class="reference external" href="mailto:me&#37;&#52;&#48;the-compiler&#46;org">Florian Bruhin</a></p></li>
<li><p><a class="reference external" href="mailto:flub&#37;&#52;&#48;devork&#46;be">Floris Bruynooghe</a></p></li>
<li><p><a class="reference external" href="mailto:hvdklauw&#37;&#52;&#48;gmail&#46;com">Harro van der Klauw</a></p></li>
<li><p><a class="reference external" href="https://github.com/hugovk">Hugo van Kemenade</a></p></li>
<li><p><a class="reference external" href="https://github.com/kadams54">Kyle Adams</a></p></li>
<li><p><a class="reference external" href="mailto:l&#37;&#52;&#48;lrowe&#46;co&#46;uk">Laurence Rowe</a></p></li>
<li><p><a class="reference external" href="mailto:santagada&#37;&#52;&#48;github&#46;com">Leonardo Santagada</a></p></li>
<li><p><a class="reference external" href="https://pytest-bdd.readthedocs.io/en/stable/sliwinski-milosz">Milosz Sliwinski</a></p></li>
<li><p><a class="reference external" href="mailto:github&#37;&#52;&#48;elfstone&#46;nl">Michiel Holtkamp</a></p></li>
<li><p><a class="reference external" href="mailto:ropez&#37;&#52;&#48;github&#46;com">Robin Pedersen</a></p></li>
<li><p><a class="reference external" href="mailto:sergejyit&#37;&#52;&#48;gmail&#46;com">Sergey Kraynev</a></p></li>
</ul>
</section>
<section id="changelog">
<h1>Changelog<a class="headerlink" href="index.html#changelog" title="Link to this heading">¶</a></h1>
<p>All notable changes to this project will be documented in this file.</p>
<p>The format is based on <a class="reference external" href="https://keepachangelog.com/en/1.1.0/">Keep a Changelog</a>,
and this project adheres to <a class="reference external" href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<section id="unreleased">
<h2>Unreleased<a class="headerlink" href="index.html#unreleased" title="Link to this heading">¶</a></h2>
</section>
<section id="id2">
<h2>[8.1.0] - 2024-12-05<a class="headerlink" href="index.html#id2" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Step arguments <code class="docutils literal notranslate"><span class="pre">&quot;datatable&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;docstring&quot;</span></code> are now reserved, and they can’t be used as step argument names. An error is raised if a step parser uses these names.</p></li>
<li><p>Scenario <code class="docutils literal notranslate"><span class="pre">description</span></code> field is now set for Cucumber JSON output.</p></li>
</ul>
<ul class="simple">
<li><p>Fixed an issue with the upcoming pytest release related to the use of <code class="docutils literal notranslate"><span class="pre">&#64;pytest.mark.usefixtures</span></code> with an empty list.</p></li>
<li><p>Render template variables in docstrings and datatable cells with example table entries, as we already do for steps definitions.</p></li>
</ul>
</section>
<section id="id3">
<h2>[8.0.0] - 2024-11-14<a class="headerlink" href="index.html#id3" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Gherkin keyword aliases can now be used and correctly reported in json and terminal output (see <a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#keywords">Keywords</a> for permitted list).</p></li>
<li><p>Added localization support. The language of the feature file can be specified using the <cite># language: &lt;language&gt;</cite> directive at the beginning of the file.</p></li>
<li><p>Rule keyword can be used in feature files (see <a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#rule">Rule</a>)</p></li>
<li><p>Added support for multiple example tables</p></li>
<li><p>Added filtering by tags against example tables</p></li>
<li><p>Since the 7.x series:
* Tags can now be on multiple lines (stacked)
* Continuation of steps using asterisks (<code class="docutils literal notranslate"><span class="pre">*</span></code>) instead of <code class="docutils literal notranslate"><span class="pre">And</span></code>/<code class="docutils literal notranslate"><span class="pre">But</span></code> supported.
* Added <code class="docutils literal notranslate"><span class="pre">datatable</span></code> argument for steps that contain a datatable (see <a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#data-tables">Data Tables</a>).
* Added <code class="docutils literal notranslate"><span class="pre">docstring</span></code> argument for steps that contain a docstring (see <a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#doc-strings">Doc Strings</a>).</p></li>
</ul>
<ul class="simple">
<li><p>Changelog format updated to follow <a class="reference external" href="https://keepachangelog.com/en/1.1.0/">Keep a Changelog</a>.</p></li>
<li><p>Text after the <code class="docutils literal notranslate"><span class="pre">#</span></code> character is no longer stripped from the Scenario and Feature name.</p></li>
<li><p>Since the 7.x series:</p>
<ul>
<li><p>Use the <a class="reference external" href="https://pypi.org/project/gherkin-official/">gherkin-official</a> parser, replacing the custom parsing logic. This will make pytest-bdd more compatible with the Gherkin specification.</p></li>
<li><p>Multiline steps must now always use triple-quotes for the additional lines.</p></li>
<li><p>All feature files must now use the keyword <code class="docutils literal notranslate"><span class="pre">Feature:</span></code> to be considered valid.</p></li>
<li><p>Tags can no longer have spaces (e.g. <code class="docutils literal notranslate"><span class="pre">&#64;tag</span> <span class="pre">one</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;tag</span> <span class="pre">two</span></code> are no longer valid).</p></li>
<li><p>Text after the <code class="docutils literal notranslate"><span class="pre">#</span></code> character is no longer stripped from the Step name.</p></li>
<li><p>Multiline strings no longer match name based on multiple lines - only on the actual step text on the step line.</p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li><p>Dropped support for python 3.8. Supported python versions: 3.9, 3.10, 3.11, 3.12, 3.13.</p></li>
<li><p>Since the 7.x series:</p>
<ul>
<li><p>Drop compatibility with pytest &lt; 7.0.0.</p></li>
</ul>
</li>
</ul>
<ul class="simple">
<li><p>Since the 7.x series:</p>
<ul>
<li><p>Updated documentation to clarify that <code class="docutils literal notranslate"><span class="pre">--gherkin-terminal-reporter</span></code> needs to be used with <code class="docutils literal notranslate"><span class="pre">-v</span></code> or <code class="docutils literal notranslate"><span class="pre">-vv</span></code>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="b2">
<h2>8.0.0b2<a class="headerlink" href="index.html#b2" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Updated documentation to clarify that <code class="docutils literal notranslate"><span class="pre">--gherkin-terminal-reporter</span></code> needs to be used with <code class="docutils literal notranslate"><span class="pre">-v</span></code> or <code class="docutils literal notranslate"><span class="pre">-vv</span></code>.</p></li>
<li><p>Drop compatibility with pytest &lt; 7.0.0.</p></li>
<li><p>Continuation of steps using asterisks instead of And/But supported.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">datatable</span></code> argument for steps that contain a datatable (see <a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#data-tables">Data Tables</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">docstring</span></code> argument for steps that contain a docstring (see <a class="reference external" href="https://cucumber.io/docs/gherkin/reference/#doc-strings">Doc Strings</a>).</p></li>
<li><p>Multiline strings no longer match name based on multiple lines - only on the actual step text on the step line.</p></li>
</ul>
</section>
<section id="b1">
<h2>8.0.0b1<a class="headerlink" href="index.html#b1" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Use the <a class="reference external" href="https://pypi.org/project/gherkin-official/">gherkin-official</a> parser, replacing the custom parsing logic. This will make pytest-bdd more compatible with the Gherkin specification.</p></li>
<li><p>Multiline steps must now always use triple-quotes for the additional lines.</p></li>
<li><p>All feature files must now use the keyword <code class="docutils literal notranslate"><span class="pre">Feature:</span></code> to be considered valid.</p></li>
<li><p>Tags can no longer have spaces (e.g. <code class="docutils literal notranslate"><span class="pre">&#64;tag</span> <span class="pre">one</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;tag</span> <span class="pre">two</span></code> are no longer valid).</p></li>
<li><p>Tags can now be on multiple lines (stacked)</p></li>
<li><p>Text after the <code class="docutils literal notranslate"><span class="pre">#</span></code> character is no longer stripped from the Step name.</p></li>
</ul>
</section>
<section id="id8">
<h2>7.3.0<a class="headerlink" href="index.html#id8" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix an issue when only the first Step would inject a fixture, while later steps would not be able to.</p></li>
<li><p>Test against the latest versions of pytest (8.2, 8.3).</p></li>
</ul>
</section>
<section id="id9">
<h2>7.2.0<a class="headerlink" href="index.html#id9" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix compatibility issue with Python 3.13.</p></li>
<li><p>Declare compatibility with Python 3.13.</p></li>
</ul>
</section>
<section id="id10">
<h2>7.1.2<a class="headerlink" href="index.html#id10" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Address another compatibility issue with pytest 8.1 (fixture registration). <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/680">#680</a></p></li>
</ul>
</section>
<section id="id12">
<h2>7.1.1<a class="headerlink" href="index.html#id12" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Address a bug introduced in pytest-bdd 7.1 caused by incorrect pytest version check.</p></li>
</ul>
</section>
<section id="id13">
<h2>7.1<a class="headerlink" href="index.html#id13" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Address compatibility issue with pytest 8.1. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/666">#666</a></p></li>
</ul>
</section>
<section id="id15">
<h2>7.0.1<a class="headerlink" href="index.html#id15" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix errors occurring if <cite>pytest_unconfigure</cite> is called before <cite>pytest_configure</cite>. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/issues/362">#362</a> <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/641">#641</a></p></li>
</ul>
</section>
<section id="id18">
<h2>7.0.0<a class="headerlink" href="index.html#id18" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>⚠️ Backwards incompatible: - <code class="docutils literal notranslate"><span class="pre">parsers.re</span></code> now does a <a class="reference external" href="https://docs.python.org/3/library/re.html#re.fullmatch">fullmatch</a> instead of a partial match. This is to make it work just like the other parsers, since they don’t ignore non-matching characters at the end of the string. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/539">#539</a></p></li>
<li><p>Drop python 3.7 compatibility, as it’s no longer supported. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/627">#627</a></p></li>
<li><p>Declare official support for python 3.12 <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/628">#628</a></p></li>
<li><p>Improve parser performance by 15% <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/623">#623</a> by <a class="reference external" href="https://github.com/dcendents">&#64;dcendents</a></p></li>
<li><p>Add support for Scenarios and Scenario Outlines to have descriptions. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/600">#600</a></p></li>
</ul>
</section>
<section id="id24">
<h2>6.1.1<a class="headerlink" href="index.html#id24" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix regression introduced in version 6.1.0 where the <code class="docutils literal notranslate"><span class="pre">pytest_bdd_after_scenario</span></code> hook would be called after every step instead of after the scenario. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/577">#577</a></p></li>
</ul>
</section>
<section id="id26">
<h2>6.1.0<a class="headerlink" href="index.html#id26" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix bug where steps without parsers would take precedence over steps with parsers. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/534">#534</a></p></li>
<li><p>Step functions can now be decorated multiple times with &#64;given, &#64;when, &#64;then. Previously every decorator would override <code class="docutils literal notranslate"><span class="pre">converters</span></code> and <code class="docutils literal notranslate"><span class="pre">target_fixture</span></code> every at every application. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/534">#534</a> <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/544">#544</a> <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/issues/525">#525</a></p></li>
<li><p>Require pytest&gt;=6.2 <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/534">#534</a></p></li>
<li><p>Using modern way to specify hook options to avoid deprecation warnings with pytest &gt;=7.2.</p></li>
<li><p>Add generic <code class="docutils literal notranslate"><span class="pre">step</span></code> decorator that will be used for all kind of steps <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/548">#548</a></p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">stacklevel</span></code> param to <code class="docutils literal notranslate"><span class="pre">given</span></code>, <code class="docutils literal notranslate"><span class="pre">when</span></code>, <code class="docutils literal notranslate"><span class="pre">then</span></code>, <code class="docutils literal notranslate"><span class="pre">step</span></code> decorators. This allows for programmatic step generation <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/548">#548</a></p></li>
<li><p>Hide pytest-bdd internal method in user tracebacks <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/557">#557</a>.</p></li>
<li><p>Make the package PEP 561-compatible <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/issues/559">#559</a> <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/563">#563</a>.</p></li>
<li><p>Configuration option <code class="docutils literal notranslate"><span class="pre">bdd_features_base_dir</span></code> is interpreted as relative to the <a class="reference external" href="https://docs.pytest.org/en/latest/reference/customize.html#rootdir">pytest root directory</a> (previously it was relative to the current working directory). <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/573">#573</a></p></li>
</ul>
</section>
<section id="id38">
<h2>6.0.1<a class="headerlink" href="index.html#id38" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix regression introduced in 6.0.0 where a step function decorated multiple using a parsers times would not be executed correctly. <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/530">#530</a> <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/issues/528">#528</a></p></li>
</ul>
</section>
<section id="id41">
<h2>6.0.0<a class="headerlink" href="index.html#id41" title="Link to this heading">¶</a></h2>
<p>This release introduces breaking changes in order to be more in line with the official gherkin specification.</p>
<ul class="simple">
<li><p>Cleanup of the documentation and tests related to parametrization (elchupanebrej) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/469">#469</a></p></li>
<li><p>Removed feature level examples for the gherkin compatibility (olegpidsadnyi) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/490">#490</a></p></li>
<li><p>Removed vertical examples for the gherkin compatibility (olegpidsadnyi) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/492">#492</a></p></li>
<li><p>Step arguments are no longer fixtures (olegpidsadnyi) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/493">#493</a></p></li>
<li><p>Drop support of python 3.6, pytest 4 (elchupanebrej) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/495">#495</a> <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/issues/504">#504</a></p></li>
<li><p>Step definitions can have “yield” statements again (4.0 release broke it). They will be executed as normal fixtures: code after the yield is executed during teardown of the test. (youtux) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/issues/503">#503</a></p></li>
<li><p>Scenario outlines unused example parameter validation is removed (olegpidsadnyi) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/499">#499</a></p></li>
<li><p>Add type annotations (youtux) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/505">#505</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pytest_bdd.parsers.StepParser</span></code> now is an Abstract Base Class. Subclasses must make sure to implement the abstract methods. (youtux) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/505">#505</a></p></li>
<li><p>Angular brackets in step definitions are only parsed in “Scenario Outline” (previously they were parsed also in normal “Scenario”s) (youtux) <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/pull/524">#524</a>.</p></li>
</ul>
</section>
<section id="id53">
<h2>5.0.0<a class="headerlink" href="index.html#id53" title="Link to this heading">¶</a></h2>
<p>This release introduces breaking changes, please refer to the <a class="reference internal" href="index.html#migration-from-4-x-x"><span class="std std-ref">Migration of your tests from versions 4.x.x</span></a>.</p>
<ul class="simple">
<li><p>Rewrite the logic to parse Examples for Scenario Outlines. Now the substitution of the examples is done during the parsing of Gherkin feature files. You won’t need to define the steps twice like <code class="docutils literal notranslate"><span class="pre">&#64;given(&quot;there</span> <span class="pre">are</span> <span class="pre">&lt;start&gt;</span> <span class="pre">cucumbers&quot;)</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;given(parsers.parse(&quot;there</span> <span class="pre">are</span> <span class="pre">{start}</span> <span class="pre">cucumbers&quot;))</span></code>. The latter will be enough.</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">example_converters</span></code> from <code class="docutils literal notranslate"><span class="pre">scenario(...)</span></code> signature. You should now use just the <code class="docutils literal notranslate"><span class="pre">converters</span></code> parameter for <code class="docutils literal notranslate"><span class="pre">given</span></code>, <code class="docutils literal notranslate"><span class="pre">when</span></code>, <code class="docutils literal notranslate"><span class="pre">then</span></code>.</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">--cucumberjson-expanded</span></code> and <code class="docutils literal notranslate"><span class="pre">--cucumber-json-expanded</span></code> options. Now the JSON report is always expanded.</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">--gherkin-terminal-reporter-expanded</span></code> option. Now the terminal report is always expanded.</p></li>
</ul>
</section>
<section id="id54">
<h2>4.1.0<a class="headerlink" href="index.html#id54" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><cite>when</cite> and <cite>then</cite> steps now can provide a <cite>target_fixture</cite>, just like <cite>given</cite> does. Discussion at <a class="reference external" href="https://github.com/pytest-dev/pytest-bdd/issues/402">https://github.com/pytest-dev/pytest-bdd/issues/402</a>.</p></li>
<li><p>Drop compatibility for python 2 and officially support only python &gt;= 3.6.</p></li>
<li><p>Fix error when using <cite>–cucumber-json-expanded</cite> in combination with <cite>example_converters</cite> (marcbrossaissogeti).</p></li>
<li><p>Fix <cite>–generate-missing</cite> not correctly recognizing steps with parsers</p></li>
</ul>
</section>
<section id="id55">
<h2>4.0.2<a class="headerlink" href="index.html#id55" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix a bug that prevents using comments in the <code class="docutils literal notranslate"><span class="pre">Examples:</span></code> section. (youtux)</p></li>
</ul>
</section>
<section id="id56">
<h2>4.0.1<a class="headerlink" href="index.html#id56" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed performance regression introduced in 4.0.0 where collection time of tests would take way longer than before. (youtux)</p></li>
</ul>
</section>
<section id="id57">
<h2>4.0.0<a class="headerlink" href="index.html#id57" title="Link to this heading">¶</a></h2>
<p>This release introduces breaking changes, please refer to the <a class="reference internal" href="index.html#migration-from-3-x-x"><span class="std std-ref">Migration of your tests from versions 3.x.x</span></a>.</p>
<ul class="simple">
<li><p>Strict Gherkin option is removed (<code class="docutils literal notranslate"><span class="pre">&#64;scenario()</span></code> does not accept the <code class="docutils literal notranslate"><span class="pre">strict_gherkin</span></code> parameter). (olegpidsadnyi)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;scenario()</span></code> does not accept the undocumented parameter <code class="docutils literal notranslate"><span class="pre">caller_module</span></code> anymore. (youtux)</p></li>
<li><p>Given step is no longer a fixture. The scope parameter is also removed. (olegpidsadnyi)</p></li>
<li><p>Fixture parameter is removed from the given step declaration. (olegpidsadnyi)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pytest_bdd_step_validation_error</span></code> hook is removed. (olegpidsadnyi)</p></li>
<li><p>Fix an error with pytest-pylint plugin #374. (toracle)</p></li>
<li><p>Fix pytest-xdist 2.0 compatibility #369. (olegpidsadnyi)</p></li>
<li><p>Fix compatibility with pytest 6 <code class="docutils literal notranslate"><span class="pre">--import-mode=importlib</span></code> option. (youtux)</p></li>
</ul>
</section>
<section id="id58">
<h2>3.4.0<a class="headerlink" href="index.html#id58" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Parse multiline steps according to the gherkin specification #365.</p></li>
</ul>
</section>
<section id="id59">
<h2>3.3.0<a class="headerlink" href="index.html#id59" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Drop support for pytest &lt; 4.3.</p></li>
<li><p>Fix a Python 4.0 bug.</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">--generate-missing</span></code> functionality being broken.</p></li>
<li><p>Fix problematic missing step definition from strings containing quotes.</p></li>
<li><p>Implement parsing escaped pipe characters in outline parameters (Mark90) #337.</p></li>
<li><p>Disable the strict Gherkin validation in the steps generation (v-buriak) #356.</p></li>
</ul>
</section>
<section id="id60">
<h2>3.2.1<a class="headerlink" href="index.html#id60" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix regression introduced in 3.2.0 where pytest-bdd would break in presence of test items that are not functions.</p></li>
</ul>
</section>
<section id="id61">
<h2>3.2.0<a class="headerlink" href="index.html#id61" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix Python 3.8 support</p></li>
<li><p>Remove code that rewrites code. This should help with the maintenance of this project and make debugging easier.</p></li>
</ul>
</section>
<section id="id62">
<h2>3.1.1<a class="headerlink" href="index.html#id62" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Allow unicode string in <code class="docutils literal notranslate"><span class="pre">&#64;given()</span></code> step names when using python2.
This makes the transition of projects from python 2 to 3 easier.</p></li>
</ul>
</section>
<section id="id63">
<h2>3.1.0<a class="headerlink" href="index.html#id63" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Drop support for pytest &lt; 3.3.2.</p></li>
<li><p>Step definitions generated by <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">pytest-bdd</span> <span class="pre">generate</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> by default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;given(...)</span></code> no longer accepts regex objects. It was deprecated long ago.</p></li>
<li><p>Improve project testing by treating warnings as exceptions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pytest_bdd_step_validation_error</span></code> will now always receive <code class="docutils literal notranslate"><span class="pre">step_func_args</span></code> as defined in the signature.</p></li>
</ul>
</section>
<section id="id64">
<h2>3.0.2<a class="headerlink" href="index.html#id64" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add compatibility with pytest 4.2 (sliwinski-milosz) #288.</p></li>
</ul>
</section>
<section id="id65">
<h2>3.0.1<a class="headerlink" href="index.html#id65" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Minimal supported version of <cite>pytest</cite> is now 2.9.0 as lower versions do not support <cite>bool</cite> type ini options (sliwinski-milosz) #260</p></li>
<li><p>Fix RemovedInPytest4Warning warnings (sliwinski-milosz) #261.</p></li>
</ul>
</section>
<section id="id66">
<h2>3.0.0<a class="headerlink" href="index.html#id66" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixtures <cite>pytestbdd_feature_base_dir</cite> and <cite>pytestbdd_strict_gherkin</cite> have been removed. Check the <a class="reference external" href="https://pytest-bdd.readthedocs.io/en/stable/README.rst">Migration of your tests from versions 2.x.x</a> for more information (sliwinski-milosz) #255</p></li>
<li><p>Fix step definitions not being found when using parsers or converters after a change in pytest (youtux) #257</p></li>
</ul>
</section>
<section id="id67">
<h2>2.21.0<a class="headerlink" href="index.html#id67" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Gherkin terminal reporter expanded format (pauk-slon)</p></li>
</ul>
</section>
<section id="id68">
<h2>2.20.0<a class="headerlink" href="index.html#id68" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added support for But steps (olegpidsadnyi)</p></li>
<li><p>Fixed compatibility with pytest 3.3.2 (olegpidsadnyi)</p></li>
<li><p>MInimal required version of pytest is now 2.8.1 since it doesn’t support earlier versions (olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id69">
<h2>2.19.0<a class="headerlink" href="index.html#id69" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added –cucumber-json-expanded option for explicit selection of expanded format (mjholtkamp)</p></li>
<li><p>Step names are filled in when –cucumber-json-expanded is used (mjholtkamp)</p></li>
</ul>
</section>
<section id="id70">
<h2>2.18.2<a class="headerlink" href="index.html#id70" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix check for out section steps definitions for no strict gherkin feature</p></li>
</ul>
</section>
<section id="id71">
<h2>2.18.1<a class="headerlink" href="index.html#id71" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Relay fixture results to recursive call of ‘get_features’ (coddingtonbear)</p></li>
</ul>
</section>
<section id="id72">
<h2>2.18.0<a class="headerlink" href="index.html#id72" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add gherkin terminal reporter (spinus + thedrow)</p></li>
</ul>
</section>
<section id="id73">
<h2>2.17.2<a class="headerlink" href="index.html#id73" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix scenario lines containing an <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> being parsed as a tag. (The-Compiler)</p></li>
</ul>
</section>
<section id="id74">
<h2>2.17.1<a class="headerlink" href="index.html#id74" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add support for pytest 3.0</p></li>
</ul>
</section>
<section id="id75">
<h2>2.17.0<a class="headerlink" href="index.html#id75" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix FixtureDef signature for newer pytest versions (The-Compiler)</p></li>
<li><p>Better error explanation for the steps defined outside of scenarios (olegpidsadnyi)</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">pytest_bdd_apply_tag</span></code> hook to customize handling of tags (The-Compiler)</p></li>
<li><p>Allow spaces in tag names. This can be useful when using the
<code class="docutils literal notranslate"><span class="pre">pytest_bdd_apply_tag</span></code> hook with tags like <code class="docutils literal notranslate"><span class="pre">&#64;xfail:</span> <span class="pre">Some</span> <span class="pre">reason</span></code>.</p></li>
</ul>
</section>
<section id="id76">
<h2>2.16.1<a class="headerlink" href="index.html#id76" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Cleaned up hooks of the plugin (olegpidsadnyi)</p></li>
<li><p>Fixed report serialization (olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id77">
<h2>2.16.0<a class="headerlink" href="index.html#id77" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed deprecation warnings with pytest 2.8 (The-Compiler)</p></li>
<li><p>Fixed deprecation warnings with Python 3.5 (The-Compiler)</p></li>
</ul>
</section>
<section id="id78">
<h2>2.15.0<a class="headerlink" href="index.html#id78" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add examples data in the scenario report (bubenkoff)</p></li>
</ul>
</section>
<section id="id79">
<h2>2.14.5<a class="headerlink" href="index.html#id79" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Properly parse feature description (bubenkoff)</p></li>
</ul>
</section>
<section id="id80">
<h2>2.14.3<a class="headerlink" href="index.html#id80" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Avoid potentially random collection order for xdist compartibility (bubenkoff)</p></li>
</ul>
</section>
<section id="id81">
<h2>2.14.1<a class="headerlink" href="index.html#id81" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Pass additional arguments to parsers (bubenkoff)</p></li>
</ul>
</section>
<section id="id82">
<h2>2.14.0<a class="headerlink" href="index.html#id82" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add validation check which prevents having multiple features in a single feature file (bubenkoff)</p></li>
</ul>
</section>
<section id="id83">
<h2>2.13.1<a class="headerlink" href="index.html#id83" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Allow mixing feature example table with scenario example table (bubenkoff, olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id84">
<h2>2.13.0<a class="headerlink" href="index.html#id84" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Feature example table (bubenkoff, sureshvv)</p></li>
</ul>
</section>
<section id="id85">
<h2>2.12.2<a class="headerlink" href="index.html#id85" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Make it possible to relax strict Gherkin scenario validation (bubenkoff)</p></li>
</ul>
</section>
<section id="id86">
<h2>2.11.3<a class="headerlink" href="index.html#id86" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix minimal <cite>six</cite> version (bubenkoff, dustinfarris)</p></li>
</ul>
</section>
<section id="id87">
<h2>2.11.1<a class="headerlink" href="index.html#id87" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Mention step type on step definition not found errors and in code generation (bubenkoff, lrowe)</p></li>
</ul>
</section>
<section id="id88">
<h2>2.11.0<a class="headerlink" href="index.html#id88" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Prefix step definition fixture names to avoid name collisions (bubenkoff, lrowe)</p></li>
</ul>
</section>
<section id="id89">
<h2>2.10.0<a class="headerlink" href="index.html#id89" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Make feature and scenario tags to be fully compartible with pytest markers (bubenkoff, kevinastone)</p></li>
</ul>
</section>
<section id="id90">
<h2>2.9.1<a class="headerlink" href="index.html#id90" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed FeatureError string representation to correctly support python3 (bubenkoff, lrowe)</p></li>
</ul>
</section>
<section id="id91">
<h2>2.9.0<a class="headerlink" href="index.html#id91" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added possibility to inject fixtures from given keywords (bubenkoff)</p></li>
</ul>
</section>
<section id="id92">
<h2>2.8.0<a class="headerlink" href="index.html#id92" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added hook before the step is executed with evaluated parameters (olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id93">
<h2>2.7.2<a class="headerlink" href="index.html#id93" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Correct base feature path lookup for python3 (bubenkoff)</p></li>
</ul>
</section>
<section id="id94">
<h2>2.7.1<a class="headerlink" href="index.html#id94" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Allow to pass <code class="docutils literal notranslate"><span class="pre">scope</span></code> for <code class="docutils literal notranslate"><span class="pre">given</span></code> steps (bubenkoff, sureshvv)</p></li>
</ul>
</section>
<section id="id95">
<h2>2.7.0<a class="headerlink" href="index.html#id95" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Implemented <cite>scenarios</cite> shortcut to automatically bind scenarios to tests (bubenkoff)</p></li>
</ul>
</section>
<section id="id96">
<h2>2.6.2<a class="headerlink" href="index.html#id96" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Parse comments only in the beginning of words (santagada)</p></li>
</ul>
</section>
<section id="id97">
<h2>2.6.1<a class="headerlink" href="index.html#id97" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Correctly handle <cite>pytest-bdd</cite> command called without the subcommand under python3 (bubenkoff, spinus)</p></li>
<li><p>Pluggable parsers for step definitions (bubenkoff, spinus)</p></li>
</ul>
</section>
<section id="id98">
<h2>2.5.3<a class="headerlink" href="index.html#id98" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Add after scenario hook, document both before and after scenario hooks (bubenkoff)</p></li>
</ul>
</section>
<section id="id99">
<h2>2.5.2<a class="headerlink" href="index.html#id99" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix code generation steps ordering (bubenkoff)</p></li>
</ul>
</section>
<section id="id100">
<h2>2.5.1<a class="headerlink" href="index.html#id100" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix error report serialization (olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id101">
<h2>2.5.0<a class="headerlink" href="index.html#id101" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix multiline steps in the Background section (bubenkoff, arpe)</p></li>
<li><p>Code cleanup (olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id102">
<h2>2.4.5<a class="headerlink" href="index.html#id102" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix unicode issue with scenario name (bubenkoff, aohontsev)</p></li>
</ul>
</section>
<section id="id103">
<h2>2.4.3<a class="headerlink" href="index.html#id103" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix unicode regex argumented steps issue (bubenkoff, aohontsev)</p></li>
<li><p>Fix steps timings in the json reporting (bubenkoff)</p></li>
</ul>
</section>
<section id="id104">
<h2>2.4.2<a class="headerlink" href="index.html#id104" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Recursion is fixed for the –generate-missing and the –feature parameters (bubenkoff)</p></li>
</ul>
</section>
<section id="id105">
<h2>2.4.1<a class="headerlink" href="index.html#id105" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Better reporting of a not found scenario (bubenkoff)</p></li>
<li><p>Simple test code generation implemented (bubenkoff)</p></li>
<li><p>Correct timing values for cucumber json reporting (bubenkoff)</p></li>
<li><p>Validation/generation helpers (bubenkoff)</p></li>
</ul>
</section>
<section id="id106">
<h2>2.4.0<a class="headerlink" href="index.html#id106" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Background support added (bubenkoff)</p></li>
<li><p>Fixed double collection of the conftest files if scenario decorator is used (ropez, bubenkoff)</p></li>
</ul>
</section>
<section id="id107">
<h2>2.3.3<a class="headerlink" href="index.html#id107" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added timings to the cucumber json report (bubenkoff)</p></li>
</ul>
</section>
<section id="id108">
<h2>2.3.2<a class="headerlink" href="index.html#id108" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed incorrect error message using e.argname instead of step.name (hvdklauw)</p></li>
</ul>
</section>
<section id="id109">
<h2>2.3.1<a class="headerlink" href="index.html#id109" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Implemented cucumber tags support (bubenkoff)</p></li>
<li><p>Implemented cucumber json formatter (bubenkoff, albertjan)</p></li>
<li><p>Added ‘trace’ keyword (bubenkoff)</p></li>
</ul>
</section>
<section id="id110">
<h2>2.1.2<a class="headerlink" href="index.html#id110" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Latest pytest compartibility fixes (bubenkoff)</p></li>
</ul>
</section>
<section id="id111">
<h2>2.1.1<a class="headerlink" href="index.html#id111" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Bugfixes (bubenkoff)</p></li>
</ul>
</section>
<section id="id112">
<h2>2.1.0<a class="headerlink" href="index.html#id112" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Implemented multiline steps (bubenkoff)</p></li>
</ul>
</section>
<section id="id113">
<h2>2.0.1<a class="headerlink" href="index.html#id113" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Allow more than one parameter per step (bubenkoff)</p></li>
<li><p>Allow empty example values (bubenkoff)</p></li>
</ul>
</section>
<section id="id114">
<h2>2.0.0<a class="headerlink" href="index.html#id114" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Pure pytest parametrization for scenario outlines (bubenkoff)</p></li>
<li><p>Argumented steps now support converters (transformations) (bubenkoff)</p></li>
<li><p>scenario supports only decorator form (bubenkoff)</p></li>
<li><p>Code generation refactoring and cleanup (bubenkoff)</p></li>
</ul>
</section>
<section id="id115">
<h2>1.0.0<a class="headerlink" href="index.html#id115" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Implemented scenario outlines (bubenkoff)</p></li>
</ul>
</section>
<section id="id116">
<h2>0.6.11<a class="headerlink" href="index.html#id116" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed step arguments conflict with the fixtures having the same name (olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id117">
<h2>0.6.9<a class="headerlink" href="index.html#id117" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Implemented support of Gherkin “Feature:” (olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id118">
<h2>0.6.8<a class="headerlink" href="index.html#id118" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Implemented several hooks to allow reporting/error handling (bubenkoff)</p></li>
</ul>
</section>
<section id="id119">
<h2>0.6.6<a class="headerlink" href="index.html#id119" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixes to unnecessary mentioning of pytest-bdd package files in py.test log with -v (bubenkoff)</p></li>
</ul>
</section>
<section id="id120">
<h2>0.6.5<a class="headerlink" href="index.html#id120" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Compartibility with recent pytest (bubenkoff)</p></li>
</ul>
</section>
<section id="id121">
<h2>0.6.4<a class="headerlink" href="index.html#id121" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>More unicode fixes (amakhnach)</p></li>
</ul>
</section>
<section id="id122">
<h2>0.6.3<a class="headerlink" href="index.html#id122" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added unicode support for feature files. Removed buggy module replacement for scenario. (amakhnach)</p></li>
</ul>
</section>
<section id="id123">
<h2>0.6.2<a class="headerlink" href="index.html#id123" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Removed unnecessary mention of pytest-bdd package files in py.test log with -v (bubenkoff)</p></li>
</ul>
</section>
<section id="id124">
<h2>0.6.1<a class="headerlink" href="index.html#id124" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Step arguments in whens when there are no given arguments used. (amakhnach, bubenkoff)</p></li>
</ul>
</section>
<section id="id125">
<h2>0.6.0<a class="headerlink" href="index.html#id125" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added step arguments support. (curzona, olegpidsadnyi, bubenkoff)</p></li>
<li><p>Added checking of the step type order. (markon, olegpidsadnyi)</p></li>
</ul>
</section>
<section id="id126">
<h2>0.5.2<a class="headerlink" href="index.html#id126" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added extra info into output when FeatureError exception raises. (amakhnach)</p></li>
</ul>
</section>
<section id="id127">
<h2>0.5.0<a class="headerlink" href="index.html#id127" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Added parametrization to scenarios</p></li>
<li><p>Coveralls.io integration</p></li>
<li><p>Test coverage improvement/fixes</p></li>
<li><p>Correct wrapping of step functions to preserve function docstring</p></li>
</ul>
</section>
<section id="id128">
<h2>0.4.7<a class="headerlink" href="index.html#id128" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed Python 3.3 support</p></li>
</ul>
</section>
<section id="id129">
<h2>0.4.6<a class="headerlink" href="index.html#id129" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed a bug when py.test –fixtures showed incorrect filenames for the steps.</p></li>
</ul>
</section>
<section id="id130">
<h2>0.4.5<a class="headerlink" href="index.html#id130" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fixed a bug with the reuse of the fixture by given steps being evaluated multiple times.</p></li>
</ul>
</section>
<section id="id131">
<h2>0.4.3<a class="headerlink" href="index.html#id131" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Update the license file and PYPI related documentation.</p></li>
</ul>
</section>
</section>


          </div>

        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html#">pytest-bdd</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div>
    <h3><a href="index.html#">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="index.html#">Pytest-BDD: the BDD framework for pytest</a><ul>
<li><a class="reference internal" href="index.html#install-pytest-bdd">Install pytest-bdd</a></li>
<li><a class="reference internal" href="index.html#example">Example</a></li>
<li><a class="reference internal" href="index.html#scenario-decorator">Scenario decorator</a></li>
<li><a class="reference internal" href="index.html#step-aliases">Step aliases</a></li>
<li><a class="reference internal" href="index.html#using-asterisks-in-place-of-keywords">Using Asterisks in Place of Keywords</a></li>
<li><a class="reference internal" href="index.html#step-arguments">Step arguments</a></li>
<li><a class="reference internal" href="index.html#override-fixtures-via-given-steps">Override fixtures via given steps</a></li>
<li><a class="reference internal" href="index.html#scenarios-shortcut">Scenarios shortcut</a></li>
<li><a class="reference internal" href="index.html#scenario-outlines">Scenario outlines</a></li>
<li><a class="reference internal" href="index.html#scenario-outlines-with-multiple-example-tables">Scenario Outlines with Multiple Example Tables</a></li>
<li><a class="reference internal" href="index.html#handling-empty-example-cells">Handling Empty Example Cells</a></li>
<li><a class="reference internal" href="index.html#rules">Rules</a></li>
<li><a class="reference internal" href="index.html#datatables">Datatables</a></li>
<li><a class="reference internal" href="index.html#docstrings">Docstrings</a></li>
<li><a class="reference internal" href="index.html#organizing-your-scenarios">Organizing your scenarios</a></li>
<li><a class="reference internal" href="index.html#test-setup">Test setup</a></li>
<li><a class="reference internal" href="index.html#backgrounds">Backgrounds</a></li>
<li><a class="reference internal" href="index.html#reusing-fixtures">Reusing fixtures</a></li>
<li><a class="reference internal" href="index.html#reusing-steps">Reusing steps</a></li>
<li><a class="reference internal" href="index.html#default-steps">Default steps</a></li>
<li><a class="reference internal" href="index.html#feature-file-paths">Feature file paths</a></li>
<li><a class="reference internal" href="index.html#avoid-retyping-the-feature-file-name">Avoid retyping the feature file name</a></li>
<li><a class="reference internal" href="index.html#programmatic-step-generation">Programmatic step generation</a></li>
<li><a class="reference internal" href="index.html#hooks">Hooks</a></li>
<li><a class="reference internal" href="index.html#browser-testing">Browser testing</a></li>
<li><a class="reference internal" href="index.html#reporting">Reporting</a></li>
<li><a class="reference internal" href="index.html#test-code-generation-helpers">Test code generation helpers</a></li>
<li><a class="reference internal" href="index.html#advanced-code-generation">Advanced code generation</a></li>
<li><a class="reference internal" href="index.html#migration-of-your-tests-from-versions-5-x-x">Migration of your tests from versions 5.x.x</a><ul>
<li><a class="reference internal" href="index.html#removal-of-the-feature-examples">Removal of the feature examples</a></li>
<li><a class="reference internal" href="index.html#removal-of-the-vertical-examples">Removal of the vertical examples</a></li>
<li><a class="reference internal" href="index.html#step-arguments-are-no-longer-fixtures">Step arguments are no longer fixtures</a></li>
<li><a class="reference internal" href="index.html#variable-templates-in-steps-are-only-parsed-for-scenario-outlines">Variable templates in steps are only parsed for Scenario Outlines</a></li>
</ul>
</li>
<li><a class="reference internal" href="index.html#migration-of-your-tests-from-versions-4-x-x">Migration of your tests from versions 4.x.x</a><ul>
<li><a class="reference internal" href="index.html#replace-usage-of-parameter-inside-step-definitions-with-parsed-parameter">Replace usage of &lt;parameter&gt; inside step definitions with parsed {parameter}</a></li>
<li><a class="reference internal" href="index.html#refuse-combining-scenario-outline-and-pytest-parametrization">Refuse combining scenario outline and pytest parametrization</a></li>
</ul>
</li>
<li><a class="reference internal" href="index.html#migration-of-your-tests-from-versions-3-x-x">Migration of your tests from versions 3.x.x</a></li>
<li><a class="reference internal" href="index.html#license">License</a></li>
</ul>
</li>
<li><a class="reference internal" href="index.html#authors">Authors</a></li>
<li><a class="reference internal" href="index.html#changelog">Changelog</a><ul>
<li><a class="reference internal" href="index.html#unreleased">Unreleased</a></li>
<li><a class="reference internal" href="index.html#id2">[8.1.0] - 2024-12-05</a></li>
<li><a class="reference internal" href="index.html#id3">[8.0.0] - 2024-11-14</a></li>
<li><a class="reference internal" href="index.html#b2">8.0.0b2</a></li>
<li><a class="reference internal" href="index.html#b1">8.0.0b1</a></li>
<li><a class="reference internal" href="index.html#id8">7.3.0</a></li>
<li><a class="reference internal" href="index.html#id9">7.2.0</a></li>
<li><a class="reference internal" href="index.html#id10">7.1.2</a></li>
<li><a class="reference internal" href="index.html#id12">7.1.1</a></li>
<li><a class="reference internal" href="index.html#id13">7.1</a></li>
<li><a class="reference internal" href="index.html#id15">7.0.1</a></li>
<li><a class="reference internal" href="index.html#id18">7.0.0</a></li>
<li><a class="reference internal" href="index.html#id24">6.1.1</a></li>
<li><a class="reference internal" href="index.html#id26">6.1.0</a></li>
<li><a class="reference internal" href="index.html#id38">6.0.1</a></li>
<li><a class="reference internal" href="index.html#id41">6.0.0</a></li>
<li><a class="reference internal" href="index.html#id53">5.0.0</a></li>
<li><a class="reference internal" href="index.html#id54">4.1.0</a></li>
<li><a class="reference internal" href="index.html#id55">4.0.2</a></li>
<li><a class="reference internal" href="index.html#id56">4.0.1</a></li>
<li><a class="reference internal" href="index.html#id57">4.0.0</a></li>
<li><a class="reference internal" href="index.html#id58">3.4.0</a></li>
<li><a class="reference internal" href="index.html#id59">3.3.0</a></li>
<li><a class="reference internal" href="index.html#id60">3.2.1</a></li>
<li><a class="reference internal" href="index.html#id61">3.2.0</a></li>
<li><a class="reference internal" href="index.html#id62">3.1.1</a></li>
<li><a class="reference internal" href="index.html#id63">3.1.0</a></li>
<li><a class="reference internal" href="index.html#id64">3.0.2</a></li>
<li><a class="reference internal" href="index.html#id65">3.0.1</a></li>
<li><a class="reference internal" href="index.html#id66">3.0.0</a></li>
<li><a class="reference internal" href="index.html#id67">2.21.0</a></li>
<li><a class="reference internal" href="index.html#id68">2.20.0</a></li>
<li><a class="reference internal" href="index.html#id69">2.19.0</a></li>
<li><a class="reference internal" href="index.html#id70">2.18.2</a></li>
<li><a class="reference internal" href="index.html#id71">2.18.1</a></li>
<li><a class="reference internal" href="index.html#id72">2.18.0</a></li>
<li><a class="reference internal" href="index.html#id73">2.17.2</a></li>
<li><a class="reference internal" href="index.html#id74">2.17.1</a></li>
<li><a class="reference internal" href="index.html#id75">2.17.0</a></li>
<li><a class="reference internal" href="index.html#id76">2.16.1</a></li>
<li><a class="reference internal" href="index.html#id77">2.16.0</a></li>
<li><a class="reference internal" href="index.html#id78">2.15.0</a></li>
<li><a class="reference internal" href="index.html#id79">2.14.5</a></li>
<li><a class="reference internal" href="index.html#id80">2.14.3</a></li>
<li><a class="reference internal" href="index.html#id81">2.14.1</a></li>
<li><a class="reference internal" href="index.html#id82">2.14.0</a></li>
<li><a class="reference internal" href="index.html#id83">2.13.1</a></li>
<li><a class="reference internal" href="index.html#id84">2.13.0</a></li>
<li><a class="reference internal" href="index.html#id85">2.12.2</a></li>
<li><a class="reference internal" href="index.html#id86">2.11.3</a></li>
<li><a class="reference internal" href="index.html#id87">2.11.1</a></li>
<li><a class="reference internal" href="index.html#id88">2.11.0</a></li>
<li><a class="reference internal" href="index.html#id89">2.10.0</a></li>
<li><a class="reference internal" href="index.html#id90">2.9.1</a></li>
<li><a class="reference internal" href="index.html#id91">2.9.0</a></li>
<li><a class="reference internal" href="index.html#id92">2.8.0</a></li>
<li><a class="reference internal" href="index.html#id93">2.7.2</a></li>
<li><a class="reference internal" href="index.html#id94">2.7.1</a></li>
<li><a class="reference internal" href="index.html#id95">2.7.0</a></li>
<li><a class="reference internal" href="index.html#id96">2.6.2</a></li>
<li><a class="reference internal" href="index.html#id97">2.6.1</a></li>
<li><a class="reference internal" href="index.html#id98">2.5.3</a></li>
<li><a class="reference internal" href="index.html#id99">2.5.2</a></li>
<li><a class="reference internal" href="index.html#id100">2.5.1</a></li>
<li><a class="reference internal" href="index.html#id101">2.5.0</a></li>
<li><a class="reference internal" href="index.html#id102">2.4.5</a></li>
<li><a class="reference internal" href="index.html#id103">2.4.3</a></li>
<li><a class="reference internal" href="index.html#id104">2.4.2</a></li>
<li><a class="reference internal" href="index.html#id105">2.4.1</a></li>
<li><a class="reference internal" href="index.html#id106">2.4.0</a></li>
<li><a class="reference internal" href="index.html#id107">2.3.3</a></li>
<li><a class="reference internal" href="index.html#id108">2.3.2</a></li>
<li><a class="reference internal" href="index.html#id109">2.3.1</a></li>
<li><a class="reference internal" href="index.html#id110">2.1.2</a></li>
<li><a class="reference internal" href="index.html#id111">2.1.1</a></li>
<li><a class="reference internal" href="index.html#id112">2.1.0</a></li>
<li><a class="reference internal" href="index.html#id113">2.0.1</a></li>
<li><a class="reference internal" href="index.html#id114">2.0.0</a></li>
<li><a class="reference internal" href="index.html#id115">1.0.0</a></li>
<li><a class="reference internal" href="index.html#id116">0.6.11</a></li>
<li><a class="reference internal" href="index.html#id117">0.6.9</a></li>
<li><a class="reference internal" href="index.html#id118">0.6.8</a></li>
<li><a class="reference internal" href="index.html#id119">0.6.6</a></li>
<li><a class="reference internal" href="index.html#id120">0.6.5</a></li>
<li><a class="reference internal" href="index.html#id121">0.6.4</a></li>
<li><a class="reference internal" href="index.html#id122">0.6.3</a></li>
<li><a class="reference internal" href="index.html#id123">0.6.2</a></li>
<li><a class="reference internal" href="index.html#id124">0.6.1</a></li>
<li><a class="reference internal" href="index.html#id125">0.6.0</a></li>
<li><a class="reference internal" href="index.html#id126">0.5.2</a></li>
<li><a class="reference internal" href="index.html#id127">0.5.0</a></li>
<li><a class="reference internal" href="index.html#id128">0.4.7</a></li>
<li><a class="reference internal" href="index.html#id129">0.4.6</a></li>
<li><a class="reference internal" href="index.html#id130">0.4.5</a></li>
<li><a class="reference internal" href="index.html#id131">0.4.3</a></li>
</ul>
</li>
</ul>

  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2013, Oleg Pidsadnyi.

      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>

      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>




  </body>
</html>
